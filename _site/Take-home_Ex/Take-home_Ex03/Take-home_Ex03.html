<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jaya George">
<meta name="dcterms.date" content="2024-06-07">

<title>ISSS608-VAA - Take-home Exercise 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608-VAA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Hands-on Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03A.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 3A</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03B.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 3B</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04A.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4A</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04B.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4B</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04C.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4C</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex06/Hands-on_Ex06.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex07/Hands-on_Ex07.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 7</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex08/Hands-on_Ex08A.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 8A</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex08/Hands-on_Ex08B.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 8B</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex08/Hands-on_Ex08C.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 8C</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">In-class Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex01/In-class_Ex01.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex02/In-class_Ex02.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex05/In-class_Ex05A.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 5A</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex05/In-class_Ex05B.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 5B</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex06/In-class_Ex06A.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 6A</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex06/In-class_Ex06B.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 6B</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Take-home exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html" rel="" target="">
 <span class="dropdown-text">Take-home exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html" rel="" target="">
 <span class="dropdown-text">Take-home exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html" rel="" target="">
 <span class="dropdown-text">Take-home exercise 3</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#vast-challenge-mini-challenge-2" id="toc-vast-challenge-mini-challenge-2" class="nav-link active" data-scroll-target="#vast-challenge-mini-challenge-2">VAST CHALLENGE Mini-Challenge 2</a>
  <ul class="collapse">
  <li><a href="#loading-r-packages" id="toc-loading-r-packages" class="nav-link" data-scroll-target="#loading-r-packages"><strong>1.1 Loading R Packages</strong></a></li>
  <li><a href="#loading-the-data" id="toc-loading-the-data" class="nav-link" data-scroll-target="#loading-the-data"><strong>1.2 Loading the Data</strong></a></li>
  <li><a href="#extracting-out-nodes-and-edges" id="toc-extracting-out-nodes-and-edges" class="nav-link" data-scroll-target="#extracting-out-nodes-and-edges"><strong>1.2 Extracting out nodes and edges</strong></a></li>
  <li><a href="#processing-fish-locations-data-and-visualizing" id="toc-processing-fish-locations-data-and-visualizing" class="nav-link" data-scroll-target="#processing-fish-locations-data-and-visualizing"><strong>1.3 Processing fish locations data and visualizing</strong></a></li>
  <li><a href="#processing-transactionsharbor-report-and-delivery-report-data" id="toc-processing-transactionsharbor-report-and-delivery-report-data" class="nav-link" data-scroll-target="#processing-transactionsharbor-report-and-delivery-report-data"><strong>1.4 Processing transactions,harbor report and delivery report data</strong></a></li>
  <li><a href="#eda" id="toc-eda" class="nav-link" data-scroll-target="#eda"><strong>2. EDA</strong></a></li>
  <li><a href="#exploring-outlier-data" id="toc-exploring-outlier-data" class="nav-link" data-scroll-target="#exploring-outlier-data"><strong>2.1 Exploring outlier data</strong></a></li>
  <li><a href="#plotting-fish-arrivals-over-time" id="toc-plotting-fish-arrivals-over-time" class="nav-link" data-scroll-target="#plotting-fish-arrivals-over-time"><strong>2.2</strong> Plotting fish arrivals over time</a></li>
  <li><a href="#plotting-protected-fish-quantities-arriving-at-each-city-over-time" id="toc-plotting-protected-fish-quantities-arriving-at-each-city-over-time" class="nav-link" data-scroll-target="#plotting-protected-fish-quantities-arriving-at-each-city-over-time"><strong>2.3</strong> Plotting protected fish quantities arriving at each city over time</a></li>
  <li><a href="#plotting-dwell-time-of-vessels" id="toc-plotting-dwell-time-of-vessels" class="nav-link" data-scroll-target="#plotting-dwell-time-of-vessels"><strong>2.4 Plotting dwell time of vessels</strong></a></li>
  <li><a href="#mechanism-for-detecting-anomalies-and-illegal-activities" id="toc-mechanism-for-detecting-anomalies-and-illegal-activities" class="nav-link" data-scroll-target="#mechanism-for-detecting-anomalies-and-illegal-activities"><strong>3.</strong> Mechanism for detecting anomalies and illegal activities</a>
  <ul class="collapse">
  <li><a href="#detect-anomaly-cargo-transactions-in-each-city" id="toc-detect-anomaly-cargo-transactions-in-each-city" class="nav-link" data-scroll-target="#detect-anomaly-cargo-transactions-in-each-city">3.1 Detect anomaly cargo transactions in each city</a></li>
  <li><a href="#plotting-fish-quantities-arriving-at-each-city-over-time" id="toc-plotting-fish-quantities-arriving-at-each-city-over-time" class="nav-link" data-scroll-target="#plotting-fish-quantities-arriving-at-each-city-over-time"><strong>3.2</strong> Plotting fish quantities arriving at each city over time</a></li>
  </ul></li>
  <li><a href="#exploring-activities-of-southseafood-express-corp" id="toc-exploring-activities-of-southseafood-express-corp" class="nav-link" data-scroll-target="#exploring-activities-of-southseafood-express-corp">4. Exploring activities of SouthSeafood Express Corp</a>
  <ul class="collapse">
  <li><a href="#plotting-monthly-dwell-time-of-vessels-belonging-to-southseafood-express-corp" id="toc-plotting-monthly-dwell-time-of-vessels-belonging-to-southseafood-express-corp" class="nav-link" data-scroll-target="#plotting-monthly-dwell-time-of-vessels-belonging-to-southseafood-express-corp">4.1 Plotting Monthly Dwell time of vessels belonging to SouthSeafood Express Corp</a></li>
  <li><a href="#heatmap-of-dwell-time" id="toc-heatmap-of-dwell-time" class="nav-link" data-scroll-target="#heatmap-of-dwell-time">4.2 Heatmap of dwell time</a></li>
  </ul></li>
  <li><a href="#deep-dive-into-southseafood-express-corp" id="toc-deep-dive-into-southseafood-express-corp" class="nav-link" data-scroll-target="#deep-dive-into-southseafood-express-corp">5. Deep dive into SouthSeafood Express Corp</a>
  <ul class="collapse">
  <li><a href="#deepdiving-into-suspected-illegal-fish-arrivals-in-feb" id="toc-deepdiving-into-suspected-illegal-fish-arrivals-in-feb" class="nav-link" data-scroll-target="#deepdiving-into-suspected-illegal-fish-arrivals-in-feb">5.1 Deepdiving into suspected illegal fish arrivals in Feb</a></li>
  <li><a href="#deep-dive-into-arrivals-for-wrasse-in-himark-in-feb" id="toc-deep-dive-into-arrivals-for-wrasse-in-himark-in-feb" class="nav-link" data-scroll-target="#deep-dive-into-arrivals-for-wrasse-in-himark-in-feb">5.2 Deep dive into arrivals for Wrasse in Himark in Feb</a></li>
  <li><a href="#finding-transshipment-possibilities-around-feb-12" id="toc-finding-transshipment-possibilities-around-feb-12" class="nav-link" data-scroll-target="#finding-transshipment-possibilities-around-feb-12"><strong>5.3 Finding Transshipment Possibilities around Feb 12</strong></a></li>
  <li><a href="#plot-path-of-southseafood-vessels-around-feb-12" id="toc-plot-path-of-southseafood-vessels-around-feb-12" class="nav-link" data-scroll-target="#plot-path-of-southseafood-vessels-around-feb-12">5.3 Plot path of SouthSeafood Vessels around Feb 12</a></li>
  <li><a href="#finding-transshipment-possibilities-around-feb-8" id="toc-finding-transshipment-possibilities-around-feb-8" class="nav-link" data-scroll-target="#finding-transshipment-possibilities-around-feb-8"><strong>5.4 Finding Transshipment Possibilities around Feb 8</strong></a></li>
  <li><a href="#plot-path-of-southseafood-vessels-around-feb-8" id="toc-plot-path-of-southseafood-vessels-around-feb-8" class="nav-link" data-scroll-target="#plot-path-of-southseafood-vessels-around-feb-8">5.5 Plot path of SouthSeafood Vessels around Feb 8</a></li>
  </ul></li>
  <li><a href="#looking-for-similar-patterns-as-southseafood-express-corp" id="toc-looking-for-similar-patterns-as-southseafood-express-corp" class="nav-link" data-scroll-target="#looking-for-similar-patterns-as-southseafood-express-corp">6. Looking for similar patterns as SouthSeafood Express Corp</a>
  <ul class="collapse">
  <li><a href="#top-10-vessels-with-highest-dwell-time-in-ghoti-preserve" id="toc-top-10-vessels-with-highest-dwell-time-in-ghoti-preserve" class="nav-link" data-scroll-target="#top-10-vessels-with-highest-dwell-time-in-ghoti-preserve">6.1 Top 10 vessels with highest Dwell time in Ghoti Preserve</a></li>
  <li><a href="#deepdive-into-piscisosseusb6d-transactions-in-city-of-paackland-in-november" id="toc-deepdive-into-piscisosseusb6d-transactions-in-city-of-paackland-in-november" class="nav-link" data-scroll-target="#deepdive-into-piscisosseusb6d-transactions-in-city-of-paackland-in-november">6.2 Deepdive into piscisosseusb6d transactions in City of Paackland in November</a></li>
  <li><a href="#finding-transshipment-possibilities-for-brillbandit0a1" id="toc-finding-transshipment-possibilities-for-brillbandit0a1" class="nav-link" data-scroll-target="#finding-transshipment-possibilities-for-brillbandit0a1">6.3 Finding Transshipment Possibilities for brillbandit0a1</a></li>
  <li><a href="#plotting-the-path-of-suspected-vessels-along-with-blackdrumbanditc5b" id="toc-plotting-the-path-of-suspected-vessels-along-with-blackdrumbanditc5b" class="nav-link" data-scroll-target="#plotting-the-path-of-suspected-vessels-along-with-blackdrumbanditc5b">6.4 Plotting the path of suspected vessels along with blackdrumbanditc5b</a></li>
  <li><a href="#finding-transshipment-possibilities-for-tunataker80c" id="toc-finding-transshipment-possibilities-for-tunataker80c" class="nav-link" data-scroll-target="#finding-transshipment-possibilities-for-tunataker80c">6.5 Finding Transshipment Possibilities for tunataker80c</a></li>
  <li><a href="#plotting-the-path-of-suspected-vessels-along-with-tunataker80c" id="toc-plotting-the-path-of-suspected-vessels-along-with-tunataker80c" class="nav-link" data-scroll-target="#plotting-the-path-of-suspected-vessels-along-with-tunataker80c">6.4 Plotting the path of suspected vessels along with tunataker80c</a></li>
  <li><a href="#network-analysis-for-southseafood-express-corp" id="toc-network-analysis-for-southseafood-express-corp" class="nav-link" data-scroll-target="#network-analysis-for-southseafood-express-corp">7. Network analysis for SouthSeafood Express Corp</a></li>
  <li><a href="#geographical-path-plotting-for-southseafood-express-corp" id="toc-geographical-path-plotting-for-southseafood-express-corp" class="nav-link" data-scroll-target="#geographical-path-plotting-for-southseafood-express-corp">8. Geographical path plotting for SouthSeafood Express Corp</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take-home Exercise 3</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jaya George </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 7, 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">June 9, 2024</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="vast-challenge-mini-challenge-2" class="level1">
<h1>VAST CHALLENGE Mini-Challenge 2</h1>
<p>FishEye analysts need help in performing geographic and temporal analysis of the CatchNet data to prevent future illegal fishing incidents. Additionally, they seek insights into the flow of commercially caught fish through Oceanus’s ports, despite having mistakenly acquired port-exit records instead of ship off-load records. The task is to develop visual analytics tools to associate vessels with their probable cargos, identify suspicious fishing behavior of SouthSeafood Express Corp, and discover other vessels engaging in similar activities.</p>
<p>Mini Challenge 2 Details : <a href="https://vast-challenge.github.io/2024/MC2.html" class="uri">https://vast-challenge.github.io/2024/MC2.html</a></p>
<p>Illegal, unreported and unregulated (IUU) fishing is a broad term that captures a wide variety of fishing activity.</p>
<p><strong>Illegal fishing:</strong> fishing in prohibited areas, catching protected species, and exceeding catch limits or quotas</p>
<p><strong>Unreported fishing:</strong> catching fish that are not documented or reported to the relevant authorities</p>
<p><strong>Unregulated fishing:</strong> fishing activities take place without adequate regulatory oversight or management measures in place</p>
<p>I will be trying to answer the below questions:</p>
<ol type="1">
<li>What are the seasonal trends and anomalies in the port exit records?</li>
<li>Develop visualizations that illustrate the inappropriate behavior of SouthSeafood Express Corp vessels. How do their movement and catch contents compare to other fishing vessels? When and where did SouthSeafood Express Corp vessels perform their illegal fishing? How many different types of suspicious behaviors are observed? Use visual evidence to justify your conclusions. To support further Fisheye investigations, develop visual analytics workflows that allow you to discover other vessels engaging in behaviors similar to SouthSeafood Express Corp’s illegal activities? Provide visual evidence of the similarities</li>
</ol>
<section id="loading-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-r-packages"><strong>1.1 Loading R Packages</strong></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>( sf , leaflet,ggplot2,dplyr,tmap,jsonlite,igraph,tidyverse,lubridate,plotly,ggraph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="loading-the-data" class="level2">
<h2 class="anchored" data-anchor-id="loading-the-data"><strong>1.2 Loading the Data</strong></h2>
<p>Loading the mc2 json data which is a directed multigraph consisting of nodes containing entities and edges containing relationships</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>json_data <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/mc2.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>nodes_df <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(json_data<span class="sc">$</span>nodes)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>links_df <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(json_data<span class="sc">$</span>links)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="extracting-out-nodes-and-edges" class="level2">
<h2 class="anchored" data-anchor-id="extracting-out-nodes-and-edges"><strong>1.2 Extracting out nodes and edges</strong></h2>
<p>We are doing the analysis mostly on Fishing and Cargo Vessels</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>vessels_df <span class="ot">&lt;-</span> nodes_df <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Entity.Vessel.FishingVessel"</span> <span class="sc">|</span> type <span class="sc">==</span> <span class="st">"Entity.Vessel.Ferry.Cargo"</span> <span class="sc">|</span> type <span class="sc">==</span> <span class="st">"Entity.Vessel.CargoVessel"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, Name, company, flag_country, type) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type =</span> <span class="fu">sub</span>(<span class="st">"Entity.Vessel."</span>, <span class="st">""</span>, type))</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>delivery_report_df <span class="ot">&lt;-</span> nodes_df <span class="sc">%&gt;%</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Entity.Document.DeliveryReport"</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">cargo_id =</span> id)<span class="sc">%&gt;%</span> </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(qty_tons,date,cargo_id)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>fish_df <span class="ot">&lt;-</span> nodes_df <span class="sc">%&gt;%</span> </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Entity.Commodity.Fish"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">fish_name =</span> name)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>city_df <span class="ot">&lt;-</span> nodes_df <span class="sc">%&gt;%</span> </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Entity.Location.City"</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">city_name =</span> Name)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>locations_df <span class="ot">&lt;-</span> nodes_df <span class="sc">%&gt;%</span> </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Entity.Location.City"</span><span class="sc">|</span> type<span class="sc">==</span><span class="st">"Entity.Location.Point"</span><span class="sc">|</span> type<span class="sc">==</span><span class="st">"Entity.Location.Region"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">location_name =</span> Name)<span class="sc">%&gt;%</span> </span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(id,location_name)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>harbor_report_df <span class="ot">&lt;-</span> links_df <span class="sc">%&gt;%</span> </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Event.HarborReport"</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date,source,target)</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>transponder_ping_df <span class="ot">&lt;-</span> links_df <span class="sc">%&gt;%</span> </span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Event.TransportEvent.TransponderPing"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(time,dwell,source,target)</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>transactions_df <span class="ot">&lt;-</span> links_df <span class="sc">%&gt;%</span> </span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Event.Transaction"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date,source,target)</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>fishing_grounds_df <span class="ot">&lt;-</span> nodes_df <span class="sc">%&gt;%</span> </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(kind <span class="sc">==</span> <span class="st">"Fishing Ground"</span><span class="sc">|</span>kind <span class="sc">==</span> <span class="st">"Ecological Preserve"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,Name,kind,fish_species_present)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="processing-fish-locations-data-and-visualizing" class="level2">
<h2 class="anchored" data-anchor-id="processing-fish-locations-data-and-visualizing"><strong>1.3 Processing fish locations data and visualizing</strong></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initial cleaning and splitting of fish species data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>fishing_grounds_df <span class="ot">&lt;-</span> fishing_grounds_df <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fish_species_present =</span> <span class="fu">gsub</span>(<span class="st">"c[(]"</span>, <span class="st">""</span>, fish_species_present)) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fish_species_present =</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\"</span><span class="st">"</span>, <span class="st">""</span>, fish_species_present)) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fish_species_present =</span> <span class="fu">gsub</span>(<span class="st">"[)]"</span>, <span class="st">""</span>, fish_species_present)) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fish_species_present =</span> <span class="fu">strsplit</span>(<span class="fu">as.character</span>(fish_species_present), <span class="st">",</span><span class="sc">\\</span><span class="st">s*"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(fish_species_present) <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">fishing_location =</span> Name)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by fish species and collect all unique locations into a list</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>final_fish_locations_df <span class="ot">&lt;-</span> fishing_grounds_df <span class="sc">%&gt;%</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fish_species_present) <span class="sc">%&gt;%</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">fishing_locations =</span> <span class="fu">list</span>(<span class="fu">unique</span>(fishing_location)), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(fishing_grounds_df, <span class="fu">aes</span>(<span class="at">x =</span> fishing_location, <span class="at">y =</span> fish_species_present, <span class="at">fill =</span> kind)) <span class="sc">+</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Ecological Preserve"</span> <span class="ot">=</span> <span class="st">"lightblue"</span>, <span class="st">"Fishing Ground"</span> <span class="ot">=</span> <span class="st">"lightgreen"</span>)) <span class="sc">+</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Fish Distribution in Fishing Locations"</span>,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Fishing Location"</span>,</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Fish Species"</span>,</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Location Type"</span>) <span class="sc">+</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.25</span>, <span class="at">hjust=</span><span class="fl">0.25</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Plot above shows the locations in which various fish varieties are found. Fishing is supposed to be done only in the designated fishing grounds and not in ecological preserves</p>
<p><strong>Insights:</strong> There are some fishes like <strong>Sockfish/Pisces foetida,Helenaa/Pisces satis, Offidiaa/Piscis osseus</strong> which are found only in ecological preserves. So tracking fishing of these varieties can give leads to illegal fishing happening.</p>
</section>
<section id="processing-transactionsharbor-report-and-delivery-report-data" class="level2">
<h2 class="anchored" data-anchor-id="processing-transactionsharbor-report-and-delivery-report-data"><strong>1.4 Processing transactions,harbor report and delivery report data</strong></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date columns to Date type</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>transactions_df<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(transactions_df<span class="sc">$</span>date)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>harbor_report_df<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(harbor_report_df<span class="sc">$</span>date)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>delivery_report_df<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(delivery_report_df<span class="sc">$</span>date)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Performing the inner join to pick only fishing or cargo vessels</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>harbor_report_df <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(harbor_report_df, vessels_df, <span class="at">by =</span>  <span class="fu">c</span>(<span class="st">"source"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">vessel_name =</span> Name,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">vessel_company =</span> company,</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">vessel_id=</span>source,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">city=</span>target,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">vessel_type=</span>type</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date,vessel_id,city,vessel_name,vessel_type,vessel_company,flag_country)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>transponder_ping_df <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(transponder_ping_df, vessels_df, <span class="at">by =</span>  <span class="fu">c</span>(<span class="st">"target"</span> <span class="ot">=</span> <span class="st">"id"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span>  <span class="fu">as.Date</span>(<span class="fu">as.POSIXct</span>(time, <span class="at">format=</span><span class="st">"%Y-%m-%dT%H:%M:%OS"</span>, <span class="at">tz=</span><span class="st">"UTC"</span>)))<span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">time =</span>  <span class="fu">as.POSIXct</span>(time, <span class="at">format=</span><span class="st">"%Y-%m-%dT%H:%M:%OS"</span>, <span class="at">tz=</span><span class="st">"UTC"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">location =</span> source,</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">vessel_id =</span> target,</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">vessel_name =</span> Name,</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">vessel_company =</span> company,</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">vessel_type=</span>type</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(time,date,dwell,location,vessel_id,vessel_name,vessel_type,vessel_company,flag_country)</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by date, vessel_id, and city, and sum up dwell time</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>transponder_ping_day_sum_df <span class="ot">&lt;-</span> transponder_ping_df <span class="sc">%&gt;%</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date, vessel_id, location,vessel_name,vessel_type,vessel_company) <span class="sc">%&gt;%</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_dwell_time =</span> <span class="fu">sum</span>(dwell, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add filter to exclude records where total_dwell_time is 0</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total_dwell_time <span class="sc">!=</span> <span class="dv">0</span>)</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>transponder_ping_city_df <span class="ot">&lt;-</span> transponder_ping_day_sum_df <span class="sc">%&gt;%</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"^City"</span>, location))</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>transponder_ping_non_city_df <span class="ot">&lt;-</span> transponder_ping_day_sum_df <span class="sc">%&gt;%</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">"^City"</span>, location))</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>transponder_ping_south_df <span class="ot">&lt;-</span> transponder_ping_day_sum_df <span class="sc">%&gt;%</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"^SouthSeafood Express Corp"</span>, vessel_company))</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a><span class="co"># preparing transactions</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>transactions_df<span class="ot">&lt;-</span>transactions_df<span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">cargo_id =</span> source)</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a><span class="co">#pivot fish and city as columns</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>city_and_fish_df <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(city_df, fish_df)</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>transactions_type <span class="ot">&lt;-</span> transactions_df <span class="sc">%&gt;%</span></span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(city_and_fish_df, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"target"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date.x, cargo_id, target, type)</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>transactions_cargo <span class="ot">&lt;-</span> transactions_type <span class="sc">%&gt;%</span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> type, <span class="at">values_from =</span> target,  <span class="at">id_cols =</span> <span class="fu">c</span>(date.x, cargo_id))<span class="sc">%&gt;%</span></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">date=</span>date.x,</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">fish =</span> Entity.Commodity.Fish,</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">city =</span> Entity.Location.City</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>transactions_cargo <span class="ot">&lt;-</span> transactions_cargo <span class="sc">%&gt;%</span></span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(fish_df, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"fish"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date.x, cargo_id, fish, city,fish_name)<span class="sc">%&gt;%</span></span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a><span class="fu">rename</span>(<span class="at">date_of_arrival=</span>date.x,</span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>       <span class="at">city_of_arrival=</span>city,</span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>       <span class="at">fish_in_cargo=</span>fish</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>transactions_cargo <span class="ot">&lt;-</span> transactions_cargo <span class="sc">%&gt;%</span></span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(delivery_report_df, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"cargo_id"</span><span class="ot">=</span><span class="st">"cargo_id"</span>,<span class="st">"date_of_arrival"</span> <span class="ot">=</span> <span class="st">"date"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date_of_arrival,cargo_id, fish_in_cargo, city_of_arrival,fish_name,qty_tons)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="eda" class="level2">
<h2 class="anchored" data-anchor-id="eda"><strong>2. EDA</strong></h2>
</section>
<section id="exploring-outlier-data" class="level2">
<h2 class="anchored" data-anchor-id="exploring-outlier-data"><strong>2.1 Exploring outlier data</strong></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>iqr_qty <span class="ot">&lt;-</span> <span class="fu">IQR</span>(transactions_cargo<span class="sc">$</span>qty_tons)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>upper_bound <span class="ot">&lt;-</span> <span class="fu">quantile</span>(transactions_cargo<span class="sc">$</span>qty_tons, <span class="fl">0.75</span>) <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> iqr_qty</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> transactions_cargo[transactions_cargo<span class="sc">$</span>qty_tons <span class="sc">&gt;</span> upper_bound, ]</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(transactions_cargo<span class="sc">$</span>qty_tons)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add outliers as points</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(transactions_cargo<span class="sc">$</span>qty_tons[transactions_cargo<span class="sc">$</span>qty_tons <span class="sc">&gt;</span> upper_bound], </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>       <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">sum</span>(transactions_cargo<span class="sc">$</span>qty_tons <span class="sc">&gt;</span> upper_bound)), </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">pch =</span> <span class="dv">16</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Insight</strong> : Anomaly qty_tons are mostly greater than 70 tons</p>
</section>
<section id="plotting-fish-arrivals-over-time" class="level2">
<h2 class="anchored" data-anchor-id="plotting-fish-arrivals-over-time"><strong>2.2</strong> Plotting fish arrivals over time</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>monthly_data <span class="ot">&lt;-</span> transactions_cargo <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">format</span>(date_of_arrival, <span class="st">"%Y-%m"</span>))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert month to Date type for proper ordering in ggplot2</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>monthly_data<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">paste0</span>(monthly_data<span class="sc">$</span>month, <span class="st">"-01"</span>))</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by month and fish_name, and summarize total quantity in tons</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>monthly_data <span class="ot">&lt;-</span> monthly_data <span class="sc">%&gt;%</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month, fish_name) <span class="sc">%&gt;%</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_qty =</span> <span class="fu">sum</span>(qty_tons)) <span class="sc">%&gt;%</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(monthly_data, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> total_qty, <span class="at">color =</span> fish_name, <span class="at">group =</span> fish_name)) <span class="sc">+</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Monthly Fish Transactions"</span>, <span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Quantity in Tons"</span>)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-793eca1e388ec7b0fd67" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-793eca1e388ec7b0fd67">{"x":{"data":[{"x":[23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[121.5,518.125,462.25,302.75,980.625,3947.75,845.375,2547.5,5504.125],"text":["month: 2035-03-01<br />total_qty:   121.500<br />fish_name: Beauvoir/Habeas pisces<br />fish_name: Beauvoir/Habeas pisces","month: 2035-04-01<br />total_qty:   518.125<br />fish_name: Beauvoir/Habeas pisces<br />fish_name: Beauvoir/Habeas pisces","month: 2035-05-01<br />total_qty:   462.250<br />fish_name: Beauvoir/Habeas pisces<br />fish_name: Beauvoir/Habeas pisces","month: 2035-06-01<br />total_qty:   302.750<br />fish_name: Beauvoir/Habeas pisces<br />fish_name: Beauvoir/Habeas pisces","month: 2035-07-01<br />total_qty:   980.625<br />fish_name: Beauvoir/Habeas pisces<br />fish_name: Beauvoir/Habeas pisces","month: 2035-08-01<br />total_qty:  3947.750<br />fish_name: Beauvoir/Habeas pisces<br />fish_name: Beauvoir/Habeas pisces","month: 2035-09-01<br />total_qty:   845.375<br />fish_name: Beauvoir/Habeas pisces<br />fish_name: Beauvoir/Habeas pisces","month: 2035-10-01<br />total_qty:  2547.500<br />fish_name: Beauvoir/Habeas pisces<br />fish_name: Beauvoir/Habeas pisces","month: 2035-11-01<br />total_qty:  5504.125<br />fish_name: Beauvoir/Habeas pisces<br />fish_name: Beauvoir/Habeas pisces"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23861,23892,23922,23953,23984,24014,24045],"y":[212,186.25,1205.375,1235.25,2842.25,4094.875,4203.25],"text":["month: 2035-05-01<br />total_qty:   212.000<br />fish_name: Birdseye/Pisces frigus<br />fish_name: Birdseye/Pisces frigus","month: 2035-06-01<br />total_qty:   186.250<br />fish_name: Birdseye/Pisces frigus<br />fish_name: Birdseye/Pisces frigus","month: 2035-07-01<br />total_qty:  1205.375<br />fish_name: Birdseye/Pisces frigus<br />fish_name: Birdseye/Pisces frigus","month: 2035-08-01<br />total_qty:  1235.250<br />fish_name: Birdseye/Pisces frigus<br />fish_name: Birdseye/Pisces frigus","month: 2035-09-01<br />total_qty:  2842.250<br />fish_name: Birdseye/Pisces frigus<br />fish_name: Birdseye/Pisces frigus","month: 2035-10-01<br />total_qty:  4094.875<br />fish_name: Birdseye/Pisces frigus<br />fish_name: Birdseye/Pisces frigus","month: 2035-11-01<br />total_qty:  4203.250<br />fish_name: Birdseye/Pisces frigus<br />fish_name: Birdseye/Pisces frigus"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(216,144,0,1)","dash":"solid"},"hoveron":"points","name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[328.625,63.75,356.625,874.625,1590.625,5518,9999,12123.25,6429.25],"text":["month: 2035-03-01<br />total_qty:   328.625<br />fish_name: Cod/Gadus n.specificatae<br />fish_name: Cod/Gadus n.specificatae","month: 2035-04-01<br />total_qty:    63.750<br />fish_name: Cod/Gadus n.specificatae<br />fish_name: Cod/Gadus n.specificatae","month: 2035-05-01<br />total_qty:   356.625<br />fish_name: Cod/Gadus n.specificatae<br />fish_name: Cod/Gadus n.specificatae","month: 2035-06-01<br />total_qty:   874.625<br />fish_name: Cod/Gadus n.specificatae<br />fish_name: Cod/Gadus n.specificatae","month: 2035-07-01<br />total_qty:  1590.625<br />fish_name: Cod/Gadus n.specificatae<br />fish_name: Cod/Gadus n.specificatae","month: 2035-08-01<br />total_qty:  5518.000<br />fish_name: Cod/Gadus n.specificatae<br />fish_name: Cod/Gadus n.specificatae","month: 2035-09-01<br />total_qty:  9999.000<br />fish_name: Cod/Gadus n.specificatae<br />fish_name: Cod/Gadus n.specificatae","month: 2035-10-01<br />total_qty: 12123.250<br />fish_name: Cod/Gadus n.specificatae<br />fish_name: Cod/Gadus n.specificatae","month: 2035-11-01<br />total_qty:  6429.250<br />fish_name: Cod/Gadus n.specificatae<br />fish_name: Cod/Gadus n.specificatae"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(163,165,0,1)","dash":"solid"},"hoveron":"points","name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[15.75,894.25,920.625,846.75,845.125,432.125,1309.125,2767.125,3110.75],"text":["month: 2035-03-01<br />total_qty:    15.750<br />fish_name: Harland/Piscis sapidum<br />fish_name: Harland/Piscis sapidum","month: 2035-04-01<br />total_qty:   894.250<br />fish_name: Harland/Piscis sapidum<br />fish_name: Harland/Piscis sapidum","month: 2035-05-01<br />total_qty:   920.625<br />fish_name: Harland/Piscis sapidum<br />fish_name: Harland/Piscis sapidum","month: 2035-06-01<br />total_qty:   846.750<br />fish_name: Harland/Piscis sapidum<br />fish_name: Harland/Piscis sapidum","month: 2035-07-01<br />total_qty:   845.125<br />fish_name: Harland/Piscis sapidum<br />fish_name: Harland/Piscis sapidum","month: 2035-08-01<br />total_qty:   432.125<br />fish_name: Harland/Piscis sapidum<br />fish_name: Harland/Piscis sapidum","month: 2035-09-01<br />total_qty:  1309.125<br />fish_name: Harland/Piscis sapidum<br />fish_name: Harland/Piscis sapidum","month: 2035-10-01<br />total_qty:  2767.125<br />fish_name: Harland/Piscis sapidum<br />fish_name: Harland/Piscis sapidum","month: 2035-11-01<br />total_qty:  3110.750<br />fish_name: Harland/Piscis sapidum<br />fish_name: Harland/Piscis sapidum"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(57,182,0,1)","dash":"solid"},"hoveron":"points","name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23861,23892,23922,23953,24014,24045],"y":[121.625,32.375,129.5,65.625,35.375,199.5],"text":["month: 2035-05-01<br />total_qty:   121.625<br />fish_name: Helenaa/Pisces satis<br />fish_name: Helenaa/Pisces satis","month: 2035-06-01<br />total_qty:    32.375<br />fish_name: Helenaa/Pisces satis<br />fish_name: Helenaa/Pisces satis","month: 2035-07-01<br />total_qty:   129.500<br />fish_name: Helenaa/Pisces satis<br />fish_name: Helenaa/Pisces satis","month: 2035-08-01<br />total_qty:    65.625<br />fish_name: Helenaa/Pisces satis<br />fish_name: Helenaa/Pisces satis","month: 2035-10-01<br />total_qty:    35.375<br />fish_name: Helenaa/Pisces satis<br />fish_name: Helenaa/Pisces satis","month: 2035-11-01<br />total_qty:   199.500<br />fish_name: Helenaa/Pisces satis<br />fish_name: Helenaa/Pisces satis"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,191,125,1)","dash":"solid"},"hoveron":"points","name":"Helenaa/Pisces satis","legendgroup":"Helenaa/Pisces satis","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23984,24014,24045],"y":[305.375,795.875,2299.25],"text":["month: 2035-09-01<br />total_qty:   305.375<br />fish_name: Offidiaa/Piscis osseus<br />fish_name: Offidiaa/Piscis osseus","month: 2035-10-01<br />total_qty:   795.875<br />fish_name: Offidiaa/Piscis osseus<br />fish_name: Offidiaa/Piscis osseus","month: 2035-11-01<br />total_qty:  2299.250<br />fish_name: Offidiaa/Piscis osseus<br />fish_name: Offidiaa/Piscis osseus"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"Offidiaa/Piscis osseus","legendgroup":"Offidiaa/Piscis osseus","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23922,23953,23984,24014],"y":[332,1856.125,2845.625,1042.375],"text":["month: 2035-07-01<br />total_qty:   332.000<br />fish_name: Salmon/Oncorhynchus rosea<br />fish_name: Salmon/Oncorhynchus rosea","month: 2035-08-01<br />total_qty:  1856.125<br />fish_name: Salmon/Oncorhynchus rosea<br />fish_name: Salmon/Oncorhynchus rosea","month: 2035-09-01<br />total_qty:  2845.625<br />fish_name: Salmon/Oncorhynchus rosea<br />fish_name: Salmon/Oncorhynchus rosea","month: 2035-10-01<br />total_qty:  1042.375<br />fish_name: Salmon/Oncorhynchus rosea<br />fish_name: Salmon/Oncorhynchus rosea"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,176,246,1)","dash":"solid"},"hoveron":"points","name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23831,23861,23892,23922,23953,23984,24014,24045],"y":[11.375,1131.5,617.375,702.25,1394.375,1003,1855,2783],"text":["month: 2035-04-01<br />total_qty:    11.375<br />fish_name: Sockfish/Pisces foetida<br />fish_name: Sockfish/Pisces foetida","month: 2035-05-01<br />total_qty:  1131.500<br />fish_name: Sockfish/Pisces foetida<br />fish_name: Sockfish/Pisces foetida","month: 2035-06-01<br />total_qty:   617.375<br />fish_name: Sockfish/Pisces foetida<br />fish_name: Sockfish/Pisces foetida","month: 2035-07-01<br />total_qty:   702.250<br />fish_name: Sockfish/Pisces foetida<br />fish_name: Sockfish/Pisces foetida","month: 2035-08-01<br />total_qty:  1394.375<br />fish_name: Sockfish/Pisces foetida<br />fish_name: Sockfish/Pisces foetida","month: 2035-09-01<br />total_qty:  1003.000<br />fish_name: Sockfish/Pisces foetida<br />fish_name: Sockfish/Pisces foetida","month: 2035-10-01<br />total_qty:  1855.000<br />fish_name: Sockfish/Pisces foetida<br />fish_name: Sockfish/Pisces foetida","month: 2035-11-01<br />total_qty:  2783.000<br />fish_name: Sockfish/Pisces foetida<br />fish_name: Sockfish/Pisces foetida"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(149,144,255,1)","dash":"solid"},"hoveron":"points","name":"Sockfish/Pisces foetida","legendgroup":"Sockfish/Pisces foetida","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24014,24045],"y":[269.75,89.375],"text":["month: 2035-10-01<br />total_qty:   269.750<br />fish_name: Tuna/Thunnini n.vera<br />fish_name: Tuna/Thunnini n.vera","month: 2035-11-01<br />total_qty:    89.375<br />fish_name: Tuna/Thunnini n.vera<br />fish_name: Tuna/Thunnini n.vera"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(231,107,243,1)","dash":"solid"},"hoveron":"points","name":"Tuna/Thunnini n.vera","legendgroup":"Tuna/Thunnini n.vera","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23772,23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[1307,1855.25,1505.625,1799.5,2229.375,3026.125,4248.875,4105.625,4234.125,4398],"text":["month: 2035-02-01<br />total_qty:  1307.000<br />fish_name: Wrasse/Labridae n.refert<br />fish_name: Wrasse/Labridae n.refert","month: 2035-03-01<br />total_qty:  1855.250<br />fish_name: Wrasse/Labridae n.refert<br />fish_name: Wrasse/Labridae n.refert","month: 2035-04-01<br />total_qty:  1505.625<br />fish_name: Wrasse/Labridae n.refert<br />fish_name: Wrasse/Labridae n.refert","month: 2035-05-01<br />total_qty:  1799.500<br />fish_name: Wrasse/Labridae n.refert<br />fish_name: Wrasse/Labridae n.refert","month: 2035-06-01<br />total_qty:  2229.375<br />fish_name: Wrasse/Labridae n.refert<br />fish_name: Wrasse/Labridae n.refert","month: 2035-07-01<br />total_qty:  3026.125<br />fish_name: Wrasse/Labridae n.refert<br />fish_name: Wrasse/Labridae n.refert","month: 2035-08-01<br />total_qty:  4248.875<br />fish_name: Wrasse/Labridae n.refert<br />fish_name: Wrasse/Labridae n.refert","month: 2035-09-01<br />total_qty:  4105.625<br />fish_name: Wrasse/Labridae n.refert<br />fish_name: Wrasse/Labridae n.refert","month: 2035-10-01<br />total_qty:  4234.125<br />fish_name: Wrasse/Labridae n.refert<br />fish_name: Wrasse/Labridae n.refert","month: 2035-11-01<br />total_qty:  4398.000<br />fish_name: Wrasse/Labridae n.refert<br />fish_name: Wrasse/Labridae n.refert"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(255,98,188,1)","dash":"solid"},"hoveron":"points","name":"Wrasse/Labridae n.refert","legendgroup":"Wrasse/Labridae n.refert","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":54.794520547945211},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Monthly Fish Transactions","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[23758.349999999999,24058.650000000001],"tickmode":"array","ticktext":["Apr","Jul","Oct"],"tickvals":[23831,23922,24014],"categoryorder":"array","categoryarray":["Apr","Jul","Oct"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Month","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-594.21875,12728.84375],"tickmode":"array","ticktext":["0","2500","5000","7500","10000","12500"],"tickvals":[0,2500,5000,7500.0000000000009,10000,12500],"categoryorder":"array","categoryarray":["0","2500","5000","7500","10000","12500"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Quantity in Tons","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"fish_name","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"cd0c5481607c":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"cd0c5481607c","visdat":{"cd0c5481607c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Insights:</strong></p>
<ol type="1">
<li>Huge increase in Cod arrivals starting from July. This can be investigated for <strong>illegal</strong> fishing exceeding allowed limits.</li>
<li>There are Salmon cargoes arriving,but cant attribute salmon to fishing grounds or ecological preserves. So it might be <strong>unregulated</strong> fishing from locations where fishing is not supposed to be done.</li>
<li><strong>Protected species</strong> ( Sockfish/Pisces foetida,Helenaa/Pisces satis, Offidiaa/Piscis osseus ) are arriving in cargo and need to be explored</li>
</ol>
</section>
<section id="plotting-protected-fish-quantities-arriving-at-each-city-over-time" class="level2">
<h2 class="anchored" data-anchor-id="plotting-protected-fish-quantities-arriving-at-each-city-over-time"><strong>2.3</strong> Plotting protected fish quantities arriving at each city over time</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>city_time_analysis <span class="ot">&lt;-</span> transactions_cargo <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month_of_arrival =</span> <span class="fu">format</span>(date_of_arrival, <span class="st">"%Y-%m"</span>))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert month to Date type for proper ordering in ggplot2</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>city_time_analysis<span class="sc">$</span>month_of_arrival <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">paste0</span>(city_time_analysis<span class="sc">$</span>month_of_arrival, <span class="st">"-01"</span>))</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by month and fish_name, and summarize total quantity in tons</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>city_time_analysis <span class="ot">&lt;-</span> city_time_analysis <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month_of_arrival,city_of_arrival,fish_name) <span class="sc">%&gt;%</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_qty =</span> <span class="fu">sum</span>(qty_tons)) <span class="sc">%&gt;%</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Example endangered fish list</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>endangered_fish <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">" Helenaa/Pisces satis"</span>, <span class="st">"Offidiaa/Piscis osseus"</span>,<span class="st">"Sockfish/Pisces foetida"</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate a color palette, highlighting endangered species</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>fish_colors <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(city_time_analysis<span class="sc">$</span>fish_name <span class="sc">%in%</span> endangered_fish, <span class="st">"red"</span>, <span class="st">"grey"</span>)  <span class="co"># This creates a vector of 'red' or 'grey'</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>unique_fish <span class="ot">&lt;-</span> <span class="fu">unique</span>(city_time_analysis<span class="sc">$</span>fish_name)</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">setNames</span>(<span class="fu">ifelse</span>(unique_fish <span class="sc">%in%</span> endangered_fish, <span class="st">"red"</span>, <span class="st">"grey"</span>), unique_fish)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a custom color scale to the plot</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(city_time_analysis, <span class="fu">aes</span>(<span class="at">x =</span> month_of_arrival, <span class="at">y =</span> total_qty, <span class="at">fill =</span> fish_name)) <span class="sc">+</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> colors) <span class="sc">+</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> city_of_arrival, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Fish Arrivals by City Over Time"</span>, <span class="at">subtitle =</span> <span class="st">"Red highlights endangered species"</span>,</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Month of Arrival"</span>, <span class="at">y =</span> <span class="st">"Total Quantity in Tons"</span>) <span class="sc">+</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to an interactive plotly plot</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>interactive_plot <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p)</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>interactive_plot <span class="ot">&lt;-</span> interactive_plot <span class="sc">%&gt;%</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">hoverlabel =</span> <span class="fu">list</span>(<span class="at">bgcolor =</span> <span class="st">"white"</span>),</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">hoverinfo =</span> <span class="st">"text"</span>,</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"month_of_arrival"</span>, <span class="st">"qty_tons"</span>, <span class="st">"fish_name"</span>)</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>interactive_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-bbc0832e6b10624414aa" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-bbc0832e6b10624414aa">{"x":{"data":[{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[1029.125,1577.75,2870.5,3280.875,2609],"x":[23922,23953,23984,24014,24045],"y":[42.625,472.5,22.5,297.875,734.5],"text":["month_of_arrival: 2035-07-01<br />total_qty:   42.625<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-08-01<br />total_qty:  472.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-09-01<br />total_qty:   22.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-10-01<br />total_qty:  297.875<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-11-01<br />total_qty:  734.500<br />fish_name: Beauvoir/Habeas pisces"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[1074.625,1575.75,2273.625,2855.125,2962.875,4135.375,4415.125,5660.5],"x":[23800,23831,23861,23892,23922,23953,24014,24045],"y":[121.5,518.125,254.125,189,321.75,38.25,748.5,661.625],"text":["month_of_arrival: 2035-03-01<br />total_qty:  121.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-04-01<br />total_qty:  518.125<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-05-01<br />total_qty:  254.125<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-06-01<br />total_qty:  189.000<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-07-01<br />total_qty:  321.750<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-08-01<br />total_qty:   38.250<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-10-01<br />total_qty:  748.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-11-01<br />total_qty:  661.625<br />fish_name: Beauvoir/Habeas pisces"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[3390.25,5329,6446.625,4213.75],"x":[23953,23984,24014,24045],"y":[453.625,41.125,406.5,1042.5],"text":["month_of_arrival: 2035-08-01<br />total_qty:  453.625<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-09-01<br />total_qty:   41.125<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-10-01<br />total_qty:  406.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-11-01<br />total_qty: 1042.500<br />fish_name: Beauvoir/Habeas pisces"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[1393.25,4377.25,5962.75,7811.875,8114.875],"x":[23922,23953,23984,24014,24045],"y":[17.5,1232,527.5,428.375,979.625],"text":["month_of_arrival: 2035-07-01<br />total_qty:   17.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-08-01<br />total_qty: 1232.000<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-09-01<br />total_qty:  527.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-10-01<br />total_qty:  428.375<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-11-01<br />total_qty:  979.625<br />fish_name: Beauvoir/Habeas pisces"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[318.375,283.875,696,1269.75,4179,5263.25,2914.25],"x":[23861,23892,23922,23953,23984,24014,24045],"y":[208.125,113.75,598.75,1751.375,254.25,666.25,2085.875],"text":["month_of_arrival: 2035-05-01<br />total_qty:  208.125<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-06-01<br />total_qty:  113.750<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-07-01<br />total_qty:  598.750<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-08-01<br />total_qty: 1751.375<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-09-01<br />total_qty:  254.250<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-10-01<br />total_qty:  666.250<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-11-01<br />total_qty: 2085.875<br />fish_name: Beauvoir/Habeas pisces"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[442.625,964.5,1374.75,2591.875,3144.25,2232.375],"x":[23892,23922,23953,23984,24014,24045],"y":[31.25,64.625,203,278.625,136.625,376.625],"text":["month_of_arrival: 2035-06-01<br />total_qty:   31.250<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-07-01<br />total_qty:   64.625<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-08-01<br />total_qty:  203.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-09-01<br />total_qty:  278.625<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-10-01<br />total_qty:  136.625<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-11-01<br />total_qty:  376.625<br />fish_name: Birdseye/Pisces frigus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[2061.625,2823.125,4254.625,5209],"x":[23861,23892,24014,24045],"y":[212,32,160.5,451.5],"text":["month_of_arrival: 2035-05-01<br />total_qty:  212.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-06-01<br />total_qty:   32.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-10-01<br />total_qty:  160.500<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-11-01<br />total_qty:  451.500<br />fish_name: Birdseye/Pisces frigus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[239.25,1239.5,2869.5,4462.5,5262.75,2988.5],"x":[23892,23922,23953,23984,24014,24045],"y":[123,510.25,520.75,866.5,1183.875,1225.25],"text":["month_of_arrival: 2035-06-01<br />total_qty:  123.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-07-01<br />total_qty:  510.250<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-08-01<br />total_qty:  520.750<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-09-01<br />total_qty:  866.500<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-10-01<br />total_qty: 1183.875<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-11-01<br />total_qty: 1225.250<br />fish_name: Birdseye/Pisces frigus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[1390.75,4331,5650.75,6910.75,6440.625],"x":[23922,23953,23984,24014,24045],"y":[2.5,46.25,312,901.125,1674.25],"text":["month_of_arrival: 2035-07-01<br />total_qty:    2.500<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-08-01<br />total_qty:   46.250<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-09-01<br />total_qty:  312.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-10-01<br />total_qty:  901.125<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-11-01<br />total_qty: 1674.250<br />fish_name: Birdseye/Pisces frigus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[68,804.5,2793.875,3550.5,2438.625],"x":[23922,23953,23984,24014,24045],"y":[628,465.25,1385.125,1712.75,475.625],"text":["month_of_arrival: 2035-07-01<br />total_qty:  628.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-08-01<br />total_qty:  465.250<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-09-01<br />total_qty: 1385.125<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-10-01<br />total_qty: 1712.750<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-11-01<br />total_qty:  475.625<br />fish_name: Birdseye/Pisces frigus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[517,259.5,801.5,1300.5,2335.375,2586,1682.375],"x":[23861,23892,23922,23953,23984,24014,24045],"y":[44.125,183.125,163,74.25,256.5,558.25,550],"text":["month_of_arrival: 2035-05-01<br />total_qty:   44.125<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-06-01<br />total_qty:  183.125<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-07-01<br />total_qty:  163.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-08-01<br />total_qty:   74.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-09-01<br />total_qty:  256.500<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-10-01<br />total_qty:  558.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-11-01<br />total_qty:  550.000<br />fish_name: Cod/Gadus n.specificatae"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[2760.625,4055.375,3750.5,4006.875,4967.875],"x":[23892,23953,23984,24014,24045],"y":[62.5,80,318.25,247.75,241.125],"text":["month_of_arrival: 2035-06-01<br />total_qty:   62.500<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-08-01<br />total_qty:   80.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-09-01<br />total_qty:  318.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-10-01<br />total_qty:  247.750<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-11-01<br />total_qty:  241.125<br />fish_name: Cod/Gadus n.specificatae"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,0,0,222.125,565.5,421.5,1147,1357.125],"x":[23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[73,63.75,34,239.25,1017.375,2304,4041,4115.75,1631.375],"text":["month_of_arrival: 2035-03-01<br />total_qty:   73.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-04-01<br />total_qty:   63.750<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-05-01<br />total_qty:   34.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-06-01<br />total_qty:  239.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-07-01<br />total_qty: 1017.375<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-08-01<br />total_qty: 2304.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-09-01<br />total_qty: 4041.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-10-01<br />total_qty: 4115.750<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-11-01<br />total_qty: 1631.375<br />fish_name: Cod/Gadus n.specificatae"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[386,706.25,1048.5,1898,2707.25,2839.875,4128],"x":[23800,23892,23922,23953,23984,24014,24045],"y":[207.375,105.875,342.25,2433,2943.5,4070.875,2312.625],"text":["month_of_arrival: 2035-03-01<br />total_qty:  207.375<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-06-01<br />total_qty:  105.875<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-07-01<br />total_qty:  342.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-08-01<br />total_qty: 2433.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-09-01<br />total_qty: 2943.500<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-10-01<br />total_qty: 4070.875<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-11-01<br />total_qty: 2312.625<br />fish_name: Cod/Gadus n.specificatae"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,39.875,0,0,177.75,354.125,419.875,744.5],"x":[23800,23861,23892,23922,23953,23984,24014,24045],"y":[48.25,278.5,283.875,68,626.75,2439.75,3130.625,1694.125],"text":["month_of_arrival: 2035-03-01<br />total_qty:   48.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-05-01<br />total_qty:  278.500<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-06-01<br />total_qty:  283.875<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-07-01<br />total_qty:   68.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-08-01<br />total_qty:  626.750<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-09-01<br />total_qty: 2439.750<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-10-01<br />total_qty: 3130.625<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-11-01<br />total_qty: 1694.125<br />fish_name: Cod/Gadus n.specificatae"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[394.625,198.5,323.125,221.375,784.25,1142.25,1493.125,1094.875,804.75],"x":[23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[15.75,29.25,193.875,38.125,17.25,158.25,842.25,1491.125,877.625],"text":["month_of_arrival: 2035-03-01<br />total_qty:   15.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-04-01<br />total_qty:   29.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-05-01<br />total_qty:  193.875<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-06-01<br />total_qty:   38.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-07-01<br />total_qty:   17.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-08-01<br />total_qty:  158.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-09-01<br />total_qty:  842.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-10-01<br />total_qty: 1491.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-11-01<br />total_qty:  877.625<br />fish_name: Harland/Piscis sapidum"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[975,1699.375,2040,2589.75,3832.625,3569.375,3706.125,4613],"x":[23831,23861,23892,23922,23953,23984,24014,24045],"y":[600.75,362.25,720.625,373.125,222.75,181.125,300.75,354.875],"text":["month_of_arrival: 2035-04-01<br />total_qty:  600.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-05-01<br />total_qty:  362.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-06-01<br />total_qty:  720.625<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-07-01<br />total_qty:  373.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-08-01<br />total_qty:  222.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-09-01<br />total_qty:  181.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-10-01<br />total_qty:  300.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-11-01<br />total_qty:  354.875<br />fish_name: Harland/Piscis sapidum"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709],"base":[-0.5,776.5,918.5],"x":[23892,24014,24045],"y":[0.5,370.5,438.625],"text":["month_of_arrival: 2035-06-01<br />total_qty:    0.500<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-10-01<br />total_qty:  370.500<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-11-01<br />total_qty:  438.625<br />fish_name: Harland/Piscis sapidum"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[343.5,1030.125,617.75,593.75,1846.875,2558.5,2273.25,3095.125],"x":[23831,23861,23892,23922,23953,23984,24014,24045],"y":[264.25,324.625,88.5,454.75,51.125,148.75,566.625,1032.875],"text":["month_of_arrival: 2035-04-01<br />total_qty:  264.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-05-01<br />total_qty:  324.625<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-06-01<br />total_qty:   88.500<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-07-01<br />total_qty:  454.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-08-01<br />total_qty:   51.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-09-01<br />total_qty:  148.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-10-01<br />total_qty:  566.625<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-11-01<br />total_qty: 1032.875<br />fish_name: Harland/Piscis sapidum"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,217.125,381.75,337.75],"x":[23861,23984,24014,24045],"y":[39.875,137,38.125,406.75],"text":["month_of_arrival: 2035-05-01<br />total_qty:   39.875<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-09-01<br />total_qty:  137.000<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-10-01<br />total_qty:   38.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-11-01<br />total_qty:  406.750<br />fish_name: Harland/Piscis sapidum"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709],"base":[2460.25,3770.5],"x":[23922,23953],"y":[129.5,62.125],"text":["month_of_arrival: 2035-07-01<br />total_qty:  129.500<br />fish_name: Helenaa/Pisces satis","month_of_arrival: 2035-08-01<br />total_qty:   62.125<br />fish_name: Helenaa/Pisces satis"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Helenaa/Pisces satis","legendgroup":"Helenaa/Pisces satis","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":25.19999999999709,"base":757.375,"x":[24014],"y":[19.125],"text":"month_of_arrival: 2035-10-01<br />total_qty:   19.125<br />fish_name: Helenaa/Pisces satis","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Helenaa/Pisces satis","legendgroup":"Helenaa/Pisces satis","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[908.5,585.375,1843.375,2257,2895.625],"x":[23861,23892,23953,24014,24045],"y":[121.625,32.375,3.5,16.25,199.5],"text":["month_of_arrival: 2035-05-01<br />total_qty:  121.625<br />fish_name: Helenaa/Pisces satis","month_of_arrival: 2035-06-01<br />total_qty:   32.375<br />fish_name: Helenaa/Pisces satis","month_of_arrival: 2035-08-01<br />total_qty:    3.500<br />fish_name: Helenaa/Pisces satis","month_of_arrival: 2035-10-01<br />total_qty:   16.250<br />fish_name: Helenaa/Pisces satis","month_of_arrival: 2035-11-01<br />total_qty:  199.500<br />fish_name: Helenaa/Pisces satis"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Helenaa/Pisces satis","legendgroup":"Helenaa/Pisces satis","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709],"base":[489.75,480.75],"x":[24014,24045],"y":[267.625,437.75],"text":["month_of_arrival: 2035-10-01<br />total_qty:  267.625<br />fish_name: Offidiaa/Piscis osseus","month_of_arrival: 2035-11-01<br />total_qty:  437.750<br />fish_name: Offidiaa/Piscis osseus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,0,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Offidiaa/Piscis osseus","legendgroup":"Offidiaa/Piscis osseus","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709],"base":[2253.125,1813.25,1224.75],"x":[23984,24014,24045],"y":[305.375,443.75,1670.875],"text":["month_of_arrival: 2035-09-01<br />total_qty:  305.375<br />fish_name: Offidiaa/Piscis osseus","month_of_arrival: 2035-10-01<br />total_qty:  443.750<br />fish_name: Offidiaa/Piscis osseus","month_of_arrival: 2035-11-01<br />total_qty: 1670.875<br />fish_name: Offidiaa/Piscis osseus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,0,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Offidiaa/Piscis osseus","legendgroup":"Offidiaa/Piscis osseus","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709],"base":[297.25,147.125],"x":[24014,24045],"y":[84.5,190.625],"text":["month_of_arrival: 2035-10-01<br />total_qty:   84.500<br />fish_name: Offidiaa/Piscis osseus","month_of_arrival: 2035-11-01<br />total_qty:  190.625<br />fish_name: Offidiaa/Piscis osseus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,0,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Offidiaa/Piscis osseus","legendgroup":"Offidiaa/Piscis osseus","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[452.25,388.5,581,734.5],"x":[23922,23953,23984,24014],"y":[332,753.75,912.125,360.375],"text":["month_of_arrival: 2035-07-01<br />total_qty:  332.000<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-08-01<br />total_qty:  753.750<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-09-01<br />total_qty:  912.125<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-10-01<br />total_qty:  360.375<br />fish_name: Salmon/Oncorhynchus rosea"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709],"base":[3632.5,3239.625,3497.625],"x":[23953,23984,24014],"y":[138,329.75,208.5],"text":["month_of_arrival: 2035-08-01<br />total_qty:  138.000<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-09-01<br />total_qty:  329.750<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-10-01<br />total_qty:  208.500<br />fish_name: Salmon/Oncorhynchus rosea"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":25.19999999999709,"base":541.5,"x":[23953],"y":[24],"text":"month_of_arrival: 2035-08-01<br />total_qty:   24.000<br />fish_name: Salmon/Oncorhynchus rosea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709],"base":[919,837.25,1429],"x":[23953,23984,24014],"y":[924.375,1415.875,384.25],"text":["month_of_arrival: 2035-08-01<br />total_qty:  924.375<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-09-01<br />total_qty: 1415.875<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-10-01<br />total_qty:  384.250<br />fish_name: Salmon/Oncorhynchus rosea"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709],"base":[161.75,29.25,208],"x":[23953,23984,24014],"y":[16,187.875,89.25],"text":["month_of_arrival: 2035-08-01<br />total_qty:   16.000<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-09-01<br />total_qty:  187.875<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-10-01<br />total_qty:   89.250<br />fish_name: Salmon/Oncorhynchus rosea"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[313.75,235.625,388.625,494.75,230],"x":[23922,23953,23984,24014,24045],"y":[138.5,152.875,192.375,239.75,574.75],"text":["month_of_arrival: 2035-07-01<br />total_qty:  138.500<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-08-01<br />total_qty:  152.875<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-09-01<br />total_qty:  192.375<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-10-01<br />total_qty:  239.750<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-11-01<br />total_qty:  574.750<br />fish_name: Sockfish/Pisces foetida"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,0,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Sockfish/Pisces foetida","legendgroup":"Sockfish/Pisces foetida","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[963.625,1185.375,1510.875,1998.5,2855,2695.875,3035.25,3232],"x":[23831,23861,23892,23922,23953,23984,24014,24045],"y":[11.375,514,529.125,461.75,777.5,543.75,462.375,1381],"text":["month_of_arrival: 2035-04-01<br />total_qty:   11.375<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-05-01<br />total_qty:  514.000<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-06-01<br />total_qty:  529.125<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-07-01<br />total_qty:  461.750<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-08-01<br />total_qty:  777.500<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-09-01<br />total_qty:  543.750<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-10-01<br />total_qty:  462.375<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-11-01<br />total_qty: 1381.000<br />fish_name: Sockfish/Pisces foetida"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,0,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Sockfish/Pisces foetida","legendgroup":"Sockfish/Pisces foetida","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[291,497.125,491.75,616.75,599.625,424,544.625],"x":[23861,23892,23922,23953,23984,24014,24045],"y":[617.5,88.25,102,302.25,237.625,1005,680.125],"text":["month_of_arrival: 2035-05-01<br />total_qty:  617.500<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-06-01<br />total_qty:   88.250<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-07-01<br />total_qty:  102.000<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-08-01<br />total_qty:  302.250<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-09-01<br />total_qty:  237.625<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-10-01<br />total_qty: 1005.000<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-11-01<br />total_qty:  680.125<br />fish_name: Sockfish/Pisces foetida"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,0,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Sockfish/Pisces foetida","legendgroup":"Sockfish/Pisces foetida","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,60.125,0],"x":[23953,23984,24014,24045],"y":[161.75,29.25,147.875,147.125],"text":["month_of_arrival: 2035-08-01<br />total_qty:  161.750<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-09-01<br />total_qty:   29.250<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-10-01<br />total_qty:  147.875<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-11-01<br />total_qty:  147.125<br />fish_name: Sockfish/Pisces foetida"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,0,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Sockfish/Pisces foetida","legendgroup":"Sockfish/Pisces foetida","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709],"base":[285.125,140.625],"x":[24014,24045],"y":[209.625,89.375],"text":["month_of_arrival: 2035-10-01<br />total_qty:  209.625<br />fish_name: Tuna/Thunnini n.vera","month_of_arrival: 2035-11-01<br />total_qty:   89.375<br />fish_name: Tuna/Thunnini n.vera"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Tuna/Thunnini n.vera","legendgroup":"Tuna/Thunnini n.vera","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":25.19999999999709,"base":0,"x":[24014],"y":[60.125],"text":"month_of_arrival: 2035-10-01<br />total_qty:   60.125<br />fish_name: Tuna/Thunnini n.vera","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Tuna/Thunnini n.vera","legendgroup":"Tuna/Thunnini n.vera","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,0,0,0,0,0,0,0,0],"x":[23772,23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[299.5,394.625,198.5,323.125,221.375,313.75,235.625,388.625,285.125,140.625],"text":["month_of_arrival: 2035-02-01<br />total_qty:  299.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-03-01<br />total_qty:  394.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-04-01<br />total_qty:  198.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-05-01<br />total_qty:  323.125<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-06-01<br />total_qty:  221.375<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-07-01<br />total_qty:  313.750<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-08-01<br />total_qty:  235.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-09-01<br />total_qty:  388.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-10-01<br />total_qty:  285.125<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-11-01<br />total_qty:  140.625<br />fish_name: Wrasse/Labridae n.refert"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wrasse/Labridae n.refert","legendgroup":"Wrasse/Labridae n.refert","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,0,0,0,0,0,0,0,0],"x":[23772,23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[791.25,1074.625,963.625,1185.375,1510.875,1998.5,2855,2695.875,3035.25,3232],"text":["month_of_arrival: 2035-02-01<br />total_qty:  791.250<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-03-01<br />total_qty: 1074.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-04-01<br />total_qty:  963.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-05-01<br />total_qty: 1185.375<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-06-01<br />total_qty: 1510.875<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-07-01<br />total_qty: 1998.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-08-01<br />total_qty: 2855.000<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-09-01<br />total_qty: 2695.875<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-10-01<br />total_qty: 3035.250<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-11-01<br />total_qty: 3232.000<br />fish_name: Wrasse/Labridae n.refert"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wrasse/Labridae n.refert","legendgroup":"Wrasse/Labridae n.refert","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,0,0,0],"x":[23922,23953,23984,24014,24045],"y":[222.125,541.5,421.5,489.75,480.75],"text":["month_of_arrival: 2035-07-01<br />total_qty:  222.125<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-08-01<br />total_qty:  541.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-09-01<br />total_qty:  421.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-10-01<br />total_qty:  489.750<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-11-01<br />total_qty:  480.750<br />fish_name: Wrasse/Labridae n.refert"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wrasse/Labridae n.refert","legendgroup":"Wrasse/Labridae n.refert","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,0,0,0,0,0,0,0,0],"x":[23772,23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[216.25,386,343.5,291,497.125,491.75,616.75,599.625,424,544.625],"text":["month_of_arrival: 2035-02-01<br />total_qty:  216.250<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-03-01<br />total_qty:  386.000<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-04-01<br />total_qty:  343.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-05-01<br />total_qty:  291.000<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-06-01<br />total_qty:  497.125<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-07-01<br />total_qty:  491.750<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-08-01<br />total_qty:  616.750<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-09-01<br />total_qty:  599.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-10-01<br />total_qty:  424.000<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-11-01<br />total_qty:  544.625<br />fish_name: Wrasse/Labridae n.refert"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wrasse/Labridae n.refert","legendgroup":"Wrasse/Labridae n.refert","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":55.452054794520549,"r":7.3059360730593621,"b":40.182648401826491,"l":48.949771689497723},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Fish Arrivals by City Over Time","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.31583941172982266],"automargin":true,"type":"linear","autorange":false,"range":[23744.490000000002,24072.509999999998],"tickmode":"array","ticktext":["Apr","Jul","Oct"],"tickvals":[23831,23922,24014],"categoryorder":"array","categoryarray":["Apr","Jul","Oct"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y4","title":"","hoverformat":".2f"},"annotations":[{"text":"Month of Arrival","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178088},{"text":"Total Quantity in Tons","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-33.607305936073068},{"text":"City of Haacklee","x":0.15791970586491133,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"City of Himark","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"City of Lomark","x":0.84208029413508867,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"City of Paackland","x":0.15791970586491133,"y":0.48515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"City of South Paackland","x":0.5,"y":0.48515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.51484018264840181,1],"automargin":true,"type":"linear","autorange":false,"range":[-178.9375,3757.6875],"tickmode":"array","ticktext":["0","1000","2000","3000"],"tickvals":[0,1000,2000,3000],"categoryorder":"array","categoryarray":["0","1000","2000","3000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.31583941172982266,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.31583941172982266,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.35082725493684397,"x1":0.64917274506315603,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.35082725493684397,"x1":0.64917274506315603,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.68416058827017723,"x1":1,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.68416058827017723,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.31583941172982266,"y0":0,"y1":0.48515981735159819},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.31583941172982266,"y0":0,"y1":23.37899543378996,"yanchor":0.48515981735159819,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.35082725493684397,"x1":0.64917274506315603,"y0":0,"y1":0.48515981735159819},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.35082725493684397,"x1":0.64917274506315603,"y0":0,"y1":23.37899543378996,"yanchor":0.48515981735159819,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[23744.490000000002,24072.509999999998],"tickmode":"array","ticktext":["Apr","Jul","Oct"],"tickvals":[23831,23922,24014],"categoryorder":"array","categoryarray":["Apr","Jul","Oct"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.35082725493684397,0.64917274506315603],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y5","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[-316.10625000000005,6638.2312499999998],"tickmode":"array","ticktext":["0","2000","4000","6000"],"tickvals":[0,1999.9999999999998,4000,6000],"categoryorder":"array","categoryarray":["0","2000","4000","6000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.51484018264840181,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[23744.490000000002,24072.509999999998],"tickmode":"array","ticktext":["Apr","Jul","Oct"],"tickvals":[23831,23922,24014],"categoryorder":"array","categoryarray":["Apr","Jul","Oct"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.68416058827017723,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[-343.18125000000003,7195.8062499999996],"tickmode":"array","ticktext":["0","2000","4000","6000"],"tickvals":[0,2000,3999.9999999999995,6000],"categoryorder":"array","categoryarray":["0","2000","4000","6000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.51484018264840181,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x3","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[-454.72500000000002,9549.2250000000004],"tickmode":"array","ticktext":["0","2500","5000","7500"],"tickvals":[0,2500,5000,7500],"categoryorder":"array","categoryarray":["0","2500","5000","7500"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.48515981735159819],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[-296.47500000000002,6225.9750000000004],"tickmode":"array","ticktext":["0","2000","4000","6000"],"tickvals":[0,2000,4000.0000000000005,6000],"categoryorder":"array","categoryarray":["0","2000","4000","6000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.48515981735159819],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"fish_name","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative","hoverlabel":{"bgcolor":"white"},"hoverinfo":"text","tooltip":["month_of_arrival","qty_tons","fish_name"]},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"cd0c73441692":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"cd0c73441692","visdat":{"cd0c73441692":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="plotting-dwell-time-of-vessels" class="level2">
<h2 class="anchored" data-anchor-id="plotting-dwell-time-of-vessels"><strong>2.4 Plotting dwell time of vessels</strong></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List of ecological preserves</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>preserve_loc <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Ghoti Preserve"</span>, <span class="st">"Nemo Reef"</span>, <span class="st">"Don Limpet Preserve"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Summing dwell times by location and preserve status</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>loc_vessel_dwell_time_sum <span class="ot">&lt;-</span> transponder_ping_df <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(location) <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_dwell_time =</span> <span class="fu">sum</span>(dwell), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">preserve_status =</span> <span class="fu">ifelse</span>(location <span class="sc">%in%</span> preserve_loc, <span class="st">"Preserve"</span>, <span class="st">"Non-Preserve"</span>))</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting with only preserve status</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(loc_vessel_dwell_time_sum, <span class="fu">aes</span>(<span class="at">y =</span> location, <span class="at">x =</span> total_dwell_time, <span class="at">fill =</span> preserve_status)) <span class="sc">+</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Preserve"</span> <span class="ot">=</span> <span class="st">"#FF6666"</span>, <span class="st">"Non-Preserve"</span> <span class="ot">=</span> <span class="st">"#6666FF"</span>)) <span class="sc">+</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Dwell Time by Location"</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"location"</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Total Dwell Time"</span>) <span class="sc">+</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to an interactive plotly plot</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-630a8b08e5198a274c96" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-630a8b08e5198a274c96">{"x":{"data":[{"orientation":"v","width":[293106664.95930803,325695930.87702698,433467019.44892401,645466432.79568899,420992368.40065098,1056160179.765572,180679860.746171,3805394.3022830002,1472920.153713,2907187.236509,74378224.342150003,124111490.224813,35126059.133835003,6694398.9857329996,6380461.0377730001,150416804.37071899,38950614.813995004,4708102.1923700003,206842805.472891,392686307.97991699],"base":[0.55000000000000004,1.55,2.5499999999999998,3.5499999999999998,4.5499999999999998,5.5499999999999998,7.5499999999999998,8.5500000000000007,9.5500000000000007,10.550000000000001,12.550000000000001,13.550000000000001,14.550000000000001,15.550000000000001,16.550000000000001,17.550000000000001,18.550000000000001,19.550000000000001,21.550000000000001,22.550000000000001],"x":[146553332.47965401,162847965.43851349,216733509.724462,322733216.39784449,210496184.20032549,528080089.88278598,90339930.373085499,1902697.1511415001,736460.0768565,1453593.6182545,37189112.171075001,62055745.1124065,17563029.566917501,3347199.4928664998,3190230.5188865,75208402.185359493,19475307.406997502,2354051.0961850001,103421402.7364455,196343153.98995849],"y":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"text":["total_dwell_time:  293106665.0<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:  325695930.9<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:  433467019.4<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:  645466432.8<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:  420992368.4<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time: 1056160179.8<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:  180679860.7<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:    3805394.3<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:    1472920.2<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:    2907187.2<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:   74378224.3<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:  124111490.2<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:   35126059.1<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:    6694399.0<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:    6380461.0<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:  150416804.4<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:   38950614.8<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:    4708102.2<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:  206842805.5<br />location: 0.9<br />preserve_status: Non-Preserve","total_dwell_time:  392686308.0<br />location: 0.9<br />preserve_status: Non-Preserve"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(102,102,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Non-Preserve","legendgroup":"Non-Preserve","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[287931.82953500003,52782194.665530004,122779311.599985],"base":[6.5499999999999998,11.550000000000001,20.550000000000001],"x":[143965.91476750001,26391097.332765002,61389655.799992502],"y":[0.90000000000000036,0.89999999999999858,0.89999999999999858],"text":["total_dwell_time:     287931.8<br />location: 0.9<br />preserve_status: Preserve","total_dwell_time:   52782194.7<br />location: 0.9<br />preserve_status: Preserve","total_dwell_time:  122779311.6<br />location: 0.9<br />preserve_status: Preserve"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,102,102,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Preserve","legendgroup":"Preserve","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":50.845818773908846,"l":160.00000000000003},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Total Dwell Time by Location","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-52808008.988278598,1108968188.7538505],"tickmode":"array","ticktext":["0.0e+00","2.5e+08","5.0e+08","7.5e+08","1.0e+09"],"tickvals":[0,250000000.00000003,500000000,750000000,1000000000],"categoryorder":"array","categoryarray":["0.0e+00","2.5e+08","5.0e+08","7.5e+08","1.0e+09"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Total Dwell Time","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,23.600000000000001],"tickmode":"array","ticktext":["City of Haacklee","City of Himark","City of Lomark","City of Paackland","City of South Paackland","Cod Table","Don Limpet Preserve","Exit East","Exit North","Exit South","Exit West","Ghoti Preserve","Nav 1","Nav 2","Nav 3","Nav A","Nav B","Nav C","Nav D","Nav E","Nemo Reef","Tuna Shelf","Wrasse Beds"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"categoryorder":"array","categoryarray":["City of Haacklee","City of Himark","City of Lomark","City of Paackland","City of South Paackland","Cod Table","Don Limpet Preserve","Exit East","Exit North","Exit South","Exit West","Ghoti Preserve","Nav 1","Nav 2","Nav 3","Nav A","Nav B","Nav C","Nav D","Nav E","Nemo Reef","Tuna Shelf","Wrasse Beds"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"location","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"preserve_status","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"cd0c342f42f4":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"cd0c342f42f4","visdat":{"cd0c342f42f4":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Insights:</strong></p>
<p>Fishing and Vessels seem to be spending considerable time in ecological preserves which needs to be investigated</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List of ecological preserves</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>preserve_loc <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Ghoti Preserve"</span>, <span class="st">"Nemo Reef"</span>, <span class="st">"Don Limpet Preserve"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Summing dwell times by city and preserve status</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>loc_vessel_dwell_time_sum <span class="ot">&lt;-</span> transponder_ping_df <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(location,vessel_type) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_dwell_time =</span> <span class="fu">sum</span>(dwell), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the ggplot</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(loc_vessel_dwell_time_sum, <span class="fu">aes</span>(<span class="at">y =</span> location, <span class="at">x =</span> total_dwell_time, <span class="at">fill =</span> vessel_type)) <span class="sc">+</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Dwell Time by location"</span>, <span class="at">y =</span> <span class="st">"location"</span>, <span class="at">x =</span> <span class="st">"Total Dwell Time"</span>) <span class="sc">+</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the ggplot</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<p><strong>Insights:</strong></p>
<p>Fishing Vessels more than cargo vessels seem to be spending considerable time in ecological preserves which needs to be investigated</p>
</section>
<section id="mechanism-for-detecting-anomalies-and-illegal-activities" class="level2">
<h2 class="anchored" data-anchor-id="mechanism-for-detecting-anomalies-and-illegal-activities"><strong>3.</strong> Mechanism for detecting anomalies and illegal activities</h2>
<section id="detect-anomaly-cargo-transactions-in-each-city" class="level3">
<h3 class="anchored" data-anchor-id="detect-anomaly-cargo-transactions-in-each-city">3.1 Detect anomaly cargo transactions in each city</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>threshold <span class="ot">&lt;-</span> <span class="fu">mean</span>(transactions_cargo<span class="sc">$</span>qty_tons) <span class="sc">+</span> <span class="dv">3</span> <span class="sc">*</span> <span class="fu">sd</span>(transactions_cargo<span class="sc">$</span>qty_tons)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>anomalies <span class="ot">&lt;-</span> transactions_cargo[transactions_cargo<span class="sc">$</span>qty_tons <span class="sc">&gt;</span> threshold, ]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>anomalies <span class="ot">&lt;-</span> anomalies <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">format</span>(date_of_arrival, <span class="st">"%Y-%m"</span>))</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Group anomalies by city_of_arrival, month, and fish_in_cargo, then count the number of anomalies</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>anomalies_per_city_month_fish <span class="ot">&lt;-</span> anomalies <span class="sc">%&gt;%</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(city_of_arrival, month, fish_name) <span class="sc">%&gt;%</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Anomaly_Count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure data is arranged</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> anomalies_per_city_month_fish <span class="sc">%&gt;%</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(city_of_arrival, month)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Plotly plot with initial markers</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_bars</span>(<span class="at">data =</span> filtered_data, <span class="at">x =</span> <span class="sc">~</span>month, <span class="at">y =</span> <span class="sc">~</span>Anomaly_Count, <span class="at">color =</span> <span class="sc">~</span>fish_name,</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">'bar'</span>, <span class="at">hoverinfo =</span> <span class="st">'text'</span>, <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"City: "</span>, city_of_arrival, <span class="st">"&lt;br&gt;Month: "</span>, month, <span class="st">"&lt;br&gt;Fish in Cargo: "</span>, fish_name, <span class="st">"&lt;br&gt;Anomaly Count: "</span>, Anomaly_Count),</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>           <span class="at">showlegend =</span> <span class="cn">FALSE</span>)</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Add bars for each city and set initial visibility to FALSE</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">unique</span>(filtered_data<span class="sc">$</span>city_of_arrival)</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (city <span class="cf">in</span> cities) {</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  city_data <span class="ot">&lt;-</span> filtered_data[filtered_data<span class="sc">$</span>city_of_arrival <span class="sc">==</span> city, ]</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> plot <span class="sc">%&gt;%</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_bars</span>(<span class="at">data =</span> city_data, <span class="at">x =</span> <span class="sc">~</span>month, <span class="at">y =</span> <span class="sc">~</span>Anomaly_Count, <span class="at">color =</span> <span class="sc">~</span>fish_name, </span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>             <span class="at">name =</span> city, <span class="at">visible =</span> <span class="cn">FALSE</span>, <span class="at">hoverinfo =</span> <span class="st">'text'</span>, <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"City: "</span>, city_of_arrival, <span class="st">"&lt;br&gt;Month: "</span>, month, <span class="st">"&lt;br&gt;Fish in Cargo: "</span>, fish_name</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>          <span class="co">#, "&lt;br&gt;Anomaly Count: ", Anomaly_Count</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>          ),</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">showlegend =</span> <span class="cn">FALSE</span>)</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dropdown buttons for each city</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>buttons <span class="ot">&lt;-</span> <span class="fu">lapply</span>(cities, <span class="cf">function</span>(city) {</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>  visibility <span class="ot">&lt;-</span> <span class="fu">lapply</span>(cities, <span class="cf">function</span>(c) c <span class="sc">==</span> city)</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>  text_update <span class="ot">&lt;-</span> <span class="fu">lapply</span>(cities, <span class="cf">function</span>(c) {</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (c <span class="sc">==</span> city) {</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>      filtered_city_data <span class="ot">&lt;-</span> filtered_data[filtered_data<span class="sc">$</span>city_of_arrival <span class="sc">==</span> city, ]</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>      text <span class="ot">&lt;-</span> <span class="er">~</span><span class="fu">paste</span>(<span class="st">"City: "</span>, filtered_city_data<span class="sc">$</span>city_of_arrival, </span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>                     <span class="co">#"&lt;br&gt;Month: ", filtered_city_data$month, </span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"&lt;br&gt;Fish in Cargo: "</span>, filtered_city_data<span class="sc">$</span>fish_name</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>                     <span class="co">#, "&lt;br&gt;Anomaly Count: ", filtered_city_data$Anomaly_Count</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>                     )</span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>      text <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>    text</span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"update"</span>,</span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">args =</span> <span class="fu">list</span>(</span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">visible =</span> visibility, <span class="at">text =</span> text_update),</span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Anomalies per Month by Fish in Cargo in"</span>, city))</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> city</span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Add layout settings with dropdown menu</span></span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> plot <span class="sc">%&gt;%</span></span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Anomalies per City per Month by Fish in Cargo"</span>,</span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Month"</span>),</span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Anomaly Count"</span>),</span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a>         <span class="at">hovermode =</span> <span class="st">'closest'</span>,</span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a>         <span class="at">barmode =</span> <span class="st">"stack"</span>,</span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a>         <span class="at">updatemenus =</span> <span class="fu">list</span>(</span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a>           <span class="fu">list</span>(</span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a>             <span class="at">type =</span> <span class="st">"dropdown"</span>,</span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a>             <span class="at">direction =</span> <span class="st">"down"</span>,</span>
<span id="cb12-72"><a href="#cb12-72" aria-hidden="true" tabindex="-1"></a>             <span class="at">buttons =</span> buttons</span>
<span id="cb12-73"><a href="#cb12-73" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb12-74"><a href="#cb12-74" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb12-75"><a href="#cb12-75" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-76"><a href="#cb12-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-77"><a href="#cb12-77" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb12-78"><a href="#cb12-78" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-08a2a26a62288d553b29" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-08a2a26a62288d553b29">{"x":{"visdat":{"cd0c7726b66":["function () ","plotlyVisDat"],"cd0c2e983e1f":["function () ","data"],"cd0c19684a64":["function () ","data"],"cd0cd972577":["function () ","data"],"cd0c4da1933":["function () ","data"],"cd0c6ff9e27":["function () ","data"],"cd0c1f4f3f2e":["function () ","data"]},"cur_data":"cd0c1f4f3f2e","attrs":{"cd0c2e983e1f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"bar","color":{},"hoverinfo":"text","text":{},"showlegend":false,"inherit":true},"cd0c19684a64":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"bar","color":{},"name":"City of Haacklee","visible":false,"hoverinfo":"text","text":{},"showlegend":false,"inherit":true},"cd0cd972577":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"bar","color":{},"name":"City of Himark","visible":false,"hoverinfo":"text","text":{},"showlegend":false,"inherit":true},"cd0c4da1933":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"bar","color":{},"name":"City of Lomark","visible":false,"hoverinfo":"text","text":{},"showlegend":false,"inherit":true},"cd0c6ff9e27":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"bar","color":{},"name":"City of Paackland","visible":false,"hoverinfo":"text","text":{},"showlegend":false,"inherit":true},"cd0c1f4f3f2e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"bar","color":{},"name":"City of South Paackland","visible":false,"hoverinfo":"text","text":{},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Anomalies per City per Month by Fish in Cargo","xaxis":{"domain":[0,1],"automargin":true,"title":"Month","type":"category","categoryorder":"array","categoryarray":["2035-02","2035-03","2035-04","2035-05","2035-06","2035-07","2035-08","2035-09","2035-10","2035-11"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Anomaly Count"},"hovermode":"closest","barmode":"stack","updatemenus":[{"type":"dropdown","direction":"down","buttons":[{"method":"update","args":[{"visible":[true,false,false,false,false],"text":[["City:  City of Haacklee <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Haacklee <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Haacklee <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Haacklee <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Haacklee <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Haacklee <br>Fish in Cargo:  Beauvoir/Habeas pisces"],"","","",""]},{"title":"Anomalies per Month by Fish in Cargo in City of Haacklee"}],"label":"City of Haacklee"},{"method":"update","args":[{"visible":[false,true,false,false,false],"text":["",["City:  City of Himark <br>Fish in Cargo:  Beauvoir/Habeas pisces","City:  City of Himark <br>Fish in Cargo:  Harland/Piscis sapidum","City:  City of Himark <br>Fish in Cargo:  Sockfish/Pisces foetida","City:  City of Himark <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Himark <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Himark <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Himark <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Himark <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Himark <br>Fish in Cargo:  Sockfish/Pisces foetida","City:  City of Himark <br>Fish in Cargo:  Wrasse/Labridae n.refert"],"","",""]},{"title":"Anomalies per Month by Fish in Cargo in City of Himark"}],"label":"City of Himark"},{"method":"update","args":[{"visible":[false,false,true,false,false],"text":["","",["City:  City of Lomark <br>Fish in Cargo:  Birdseye/Pisces frigus","City:  City of Lomark <br>Fish in Cargo:  Cod/Gadus n.specificatae","City:  City of Lomark <br>Fish in Cargo:  Cod/Gadus n.specificatae"],"",""]},{"title":"Anomalies per Month by Fish in Cargo in City of Lomark"}],"label":"City of Lomark"},{"method":"update","args":[{"visible":[false,false,false,true,false],"text":["","","",["City:  City of Paackland <br>Fish in Cargo:  Cod/Gadus n.specificatae","City:  City of Paackland <br>Fish in Cargo:  Cod/Gadus n.specificatae","City:  City of Paackland <br>Fish in Cargo:  Offidiaa/Piscis osseus"],""]},{"title":"Anomalies per Month by Fish in Cargo in City of Paackland"}],"label":"City of Paackland"},{"method":"update","args":[{"visible":[false,false,false,false,true],"text":["","","","",["City:  City of South Paackland <br>Fish in Cargo:  Beauvoir/Habeas pisces","City:  City of South Paackland <br>Fish in Cargo:  Beauvoir/Habeas pisces","City:  City of South Paackland <br>Fish in Cargo:  Beauvoir/Habeas pisces","City:  City of South Paackland <br>Fish in Cargo:  Cod/Gadus n.specificatae","City:  City of South Paackland <br>Fish in Cargo:  Beauvoir/Habeas pisces","City:  City of South Paackland <br>Fish in Cargo:  Cod/Gadus n.specificatae"]]},{"title":"Anomalies per Month by Fish in Cargo in City of South Paackland"}],"label":"City of South Paackland"}]}],"showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2035-11","2035-04","2035-07","2035-08","2035-10","2035-11"],"y":[1,1,1,1,1,3],"type":"bar","hoverinfo":["text","text","text","text","text","text"],"text":["City:  City of Haacklee <br>Month:  2035-11 <br>Fish in Cargo:  Beauvoir/Habeas pisces <br>Anomaly Count:  1","City:  City of Himark <br>Month:  2035-04 <br>Fish in Cargo:  Beauvoir/Habeas pisces <br>Anomaly Count:  1","City:  City of South Paackland <br>Month:  2035-07 <br>Fish in Cargo:  Beauvoir/Habeas pisces <br>Anomaly Count:  1","City:  City of South Paackland <br>Month:  2035-08 <br>Fish in Cargo:  Beauvoir/Habeas pisces <br>Anomaly Count:  1","City:  City of South Paackland <br>Month:  2035-10 <br>Fish in Cargo:  Beauvoir/Habeas pisces <br>Anomaly Count:  1","City:  City of South Paackland <br>Month:  2035-11 <br>Fish in Cargo:  Beauvoir/Habeas pisces <br>Anomaly Count:  3"],"showlegend":false,"name":"Beauvoir/Habeas pisces","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-08"],"y":[1],"type":"bar","hoverinfo":"text","text":"City:  City of Lomark <br>Month:  2035-08 <br>Fish in Cargo:  Birdseye/Pisces frigus <br>Anomaly Count:  1","showlegend":false,"name":"Birdseye/Pisces frigus","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-09","2035-11","2035-09","2035-10","2035-10","2035-11"],"y":[1,1,1,1,3,1],"type":"bar","hoverinfo":["text","text","text","text","text","text"],"text":["City:  City of Lomark <br>Month:  2035-09 <br>Fish in Cargo:  Cod/Gadus n.specificatae <br>Anomaly Count:  1","City:  City of Lomark <br>Month:  2035-11 <br>Fish in Cargo:  Cod/Gadus n.specificatae <br>Anomaly Count:  1","City:  City of Paackland <br>Month:  2035-09 <br>Fish in Cargo:  Cod/Gadus n.specificatae <br>Anomaly Count:  1","City:  City of Paackland <br>Month:  2035-10 <br>Fish in Cargo:  Cod/Gadus n.specificatae <br>Anomaly Count:  1","City:  City of South Paackland <br>Month:  2035-10 <br>Fish in Cargo:  Cod/Gadus n.specificatae <br>Anomaly Count:  3","City:  City of South Paackland <br>Month:  2035-11 <br>Fish in Cargo:  Cod/Gadus n.specificatae <br>Anomaly Count:  1"],"showlegend":false,"name":"Cod/Gadus n.specificatae","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-04"],"y":[4],"type":"bar","hoverinfo":"text","text":"City:  City of Himark <br>Month:  2035-04 <br>Fish in Cargo:  Harland/Piscis sapidum <br>Anomaly Count:  4","showlegend":false,"name":"Harland/Piscis sapidum","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-11"],"y":[4],"type":"bar","hoverinfo":"text","text":"City:  City of Paackland <br>Month:  2035-11 <br>Fish in Cargo:  Offidiaa/Piscis osseus <br>Anomaly Count:  4","showlegend":false,"name":"Offidiaa/Piscis osseus","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-05","2035-11"],"y":[1,1],"type":"bar","hoverinfo":["text","text"],"text":["City:  City of Himark <br>Month:  2035-05 <br>Fish in Cargo:  Sockfish/Pisces foetida <br>Anomaly Count:  1","City:  City of Himark <br>Month:  2035-11 <br>Fish in Cargo:  Sockfish/Pisces foetida <br>Anomaly Count:  1"],"showlegend":false,"name":"Sockfish/Pisces foetida","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-02","2035-03","2035-06","2035-08","2035-09","2035-06","2035-07","2035-08","2035-09","2035-10","2035-11"],"y":[1,1,1,1,1,1,2,5,1,3,3],"type":"bar","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text"],"text":["City:  City of Haacklee <br>Month:  2035-02 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  1","City:  City of Haacklee <br>Month:  2035-03 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  1","City:  City of Haacklee <br>Month:  2035-06 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  1","City:  City of Haacklee <br>Month:  2035-08 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  1","City:  City of Haacklee <br>Month:  2035-09 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  1","City:  City of Himark <br>Month:  2035-06 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  1","City:  City of Himark <br>Month:  2035-07 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  2","City:  City of Himark <br>Month:  2035-08 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  5","City:  City of Himark <br>Month:  2035-09 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  1","City:  City of Himark <br>Month:  2035-10 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  3","City:  City of Himark <br>Month:  2035-11 <br>Fish in Cargo:  Wrasse/Labridae n.refert <br>Anomaly Count:  3"],"showlegend":false,"name":"Wrasse/Labridae n.refert","marker":{"color":"rgba(229,196,148,1)","line":{"color":"rgba(229,196,148,1)"}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-11"],"y":[1],"type":"bar","name":"City of Haacklee","visible":false,"hoverinfo":"text","text":"City:  City of Haacklee <br>Month:  2035-11 <br>Fish in Cargo:  Beauvoir/Habeas pisces","showlegend":false,"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-02","2035-03","2035-06","2035-08","2035-09"],"y":[1,1,1,1,1],"type":"bar","name":"City of Haacklee","visible":false,"hoverinfo":["text","text","text","text","text"],"text":["City:  City of Haacklee <br>Month:  2035-02 <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Haacklee <br>Month:  2035-03 <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Haacklee <br>Month:  2035-06 <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Haacklee <br>Month:  2035-08 <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Haacklee <br>Month:  2035-09 <br>Fish in Cargo:  Wrasse/Labridae n.refert"],"showlegend":false,"marker":{"color":"rgba(229,196,148,1)","line":{"color":"rgba(229,196,148,1)"}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-04"],"y":[1],"type":"bar","name":"City of Himark","visible":false,"hoverinfo":"text","text":"City:  City of Himark <br>Month:  2035-04 <br>Fish in Cargo:  Beauvoir/Habeas pisces","showlegend":false,"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-04"],"y":[4],"type":"bar","name":"City of Himark","visible":false,"hoverinfo":"text","text":"City:  City of Himark <br>Month:  2035-04 <br>Fish in Cargo:  Harland/Piscis sapidum","showlegend":false,"marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-05","2035-11"],"y":[1,1],"type":"bar","name":"City of Himark","visible":false,"hoverinfo":["text","text"],"text":["City:  City of Himark <br>Month:  2035-05 <br>Fish in Cargo:  Sockfish/Pisces foetida","City:  City of Himark <br>Month:  2035-11 <br>Fish in Cargo:  Sockfish/Pisces foetida"],"showlegend":false,"marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-06","2035-07","2035-08","2035-09","2035-10","2035-11"],"y":[1,2,5,1,3,3],"type":"bar","name":"City of Himark","visible":false,"hoverinfo":["text","text","text","text","text","text"],"text":["City:  City of Himark <br>Month:  2035-06 <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Himark <br>Month:  2035-07 <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Himark <br>Month:  2035-08 <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Himark <br>Month:  2035-09 <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Himark <br>Month:  2035-10 <br>Fish in Cargo:  Wrasse/Labridae n.refert","City:  City of Himark <br>Month:  2035-11 <br>Fish in Cargo:  Wrasse/Labridae n.refert"],"showlegend":false,"marker":{"color":"rgba(229,196,148,1)","line":{"color":"rgba(229,196,148,1)"}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-08"],"y":[1],"type":"bar","name":"City of Lomark","visible":false,"hoverinfo":"text","text":"City:  City of Lomark <br>Month:  2035-08 <br>Fish in Cargo:  Birdseye/Pisces frigus","showlegend":false,"marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-09","2035-11"],"y":[1,1],"type":"bar","name":"City of Lomark","visible":false,"hoverinfo":["text","text"],"text":["City:  City of Lomark <br>Month:  2035-09 <br>Fish in Cargo:  Cod/Gadus n.specificatae","City:  City of Lomark <br>Month:  2035-11 <br>Fish in Cargo:  Cod/Gadus n.specificatae"],"showlegend":false,"marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-09","2035-10"],"y":[1,1],"type":"bar","name":"City of Paackland","visible":false,"hoverinfo":["text","text"],"text":["City:  City of Paackland <br>Month:  2035-09 <br>Fish in Cargo:  Cod/Gadus n.specificatae","City:  City of Paackland <br>Month:  2035-10 <br>Fish in Cargo:  Cod/Gadus n.specificatae"],"showlegend":false,"marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-11"],"y":[4],"type":"bar","name":"City of Paackland","visible":false,"hoverinfo":"text","text":"City:  City of Paackland <br>Month:  2035-11 <br>Fish in Cargo:  Offidiaa/Piscis osseus","showlegend":false,"marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-07","2035-08","2035-10","2035-11"],"y":[1,1,1,3],"type":"bar","name":"City of South Paackland","visible":false,"hoverinfo":["text","text","text","text"],"text":["City:  City of South Paackland <br>Month:  2035-07 <br>Fish in Cargo:  Beauvoir/Habeas pisces","City:  City of South Paackland <br>Month:  2035-08 <br>Fish in Cargo:  Beauvoir/Habeas pisces","City:  City of South Paackland <br>Month:  2035-10 <br>Fish in Cargo:  Beauvoir/Habeas pisces","City:  City of South Paackland <br>Month:  2035-11 <br>Fish in Cargo:  Beauvoir/Habeas pisces"],"showlegend":false,"marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2035-10","2035-11"],"y":[3,1],"type":"bar","name":"City of South Paackland","visible":false,"hoverinfo":["text","text"],"text":["City:  City of South Paackland <br>Month:  2035-10 <br>Fish in Cargo:  Cod/Gadus n.specificatae","City:  City of South Paackland <br>Month:  2035-11 <br>Fish in Cargo:  Cod/Gadus n.specificatae"],"showlegend":false,"marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Insights:</strong></p>
<p>This plot helps to do the first level of investigation in terms of anomaly cargo arriving in each city and paves way for further investigation</p>
</section>
<section id="plotting-fish-quantities-arriving-at-each-city-over-time" class="level3">
<h3 class="anchored" data-anchor-id="plotting-fish-quantities-arriving-at-each-city-over-time"><strong>3.2</strong> Plotting fish quantities arriving at each city over time</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate quantity by city, fish type, and month of arrival (assuming you have a date_of_arrival column)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>city_time_analysis <span class="ot">&lt;-</span> transactions_cargo <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month_of_arrival =</span> lubridate<span class="sc">::</span><span class="fu">floor_date</span>(date_of_arrival, <span class="st">"month"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(city_of_arrival, fish_name, month_of_arrival) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">qty_tons =</span> <span class="fu">sum</span>(qty_tons), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot with ggplot2</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(city_time_analysis, <span class="fu">aes</span>(<span class="at">x =</span> month_of_arrival, <span class="at">y =</span> qty_tons, <span class="at">fill =</span> fish_name)) <span class="sc">+</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> city_of_arrival, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Fish Arrivals by City Over Time"</span>, <span class="at">x =</span> <span class="st">"Month of Arrival"</span>, <span class="at">y =</span> <span class="st">"Total Quantity in Tons"</span>) <span class="sc">+</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to an interactive plotly plot</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4b694644b03215edcee3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4b694644b03215edcee3">{"x":{"data":[{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[1029.125,1577.75,2870.5,3280.875,2609],"x":[23922,23953,23984,24014,24045],"y":[42.625,472.5,22.5,297.875,734.5],"text":["month_of_arrival: 2035-07-01<br />qty_tons:   42.625<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-08-01<br />qty_tons:  472.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-09-01<br />qty_tons:   22.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-10-01<br />qty_tons:  297.875<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-11-01<br />qty_tons:  734.500<br />fish_name: Beauvoir/Habeas pisces"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[1074.625,1575.75,2273.625,2855.125,2962.875,4135.375,4415.125,5660.5],"x":[23800,23831,23861,23892,23922,23953,24014,24045],"y":[121.5,518.125,254.125,189,321.75,38.25,748.5,661.625],"text":["month_of_arrival: 2035-03-01<br />qty_tons:  121.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-04-01<br />qty_tons:  518.125<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-05-01<br />qty_tons:  254.125<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-06-01<br />qty_tons:  189.000<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-07-01<br />qty_tons:  321.750<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-08-01<br />qty_tons:   38.250<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-10-01<br />qty_tons:  748.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-11-01<br />qty_tons:  661.625<br />fish_name: Beauvoir/Habeas pisces"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[3390.25,5329,6446.625,4213.75],"x":[23953,23984,24014,24045],"y":[453.625,41.125,406.5,1042.5],"text":["month_of_arrival: 2035-08-01<br />qty_tons:  453.625<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-09-01<br />qty_tons:   41.125<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-10-01<br />qty_tons:  406.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-11-01<br />qty_tons: 1042.500<br />fish_name: Beauvoir/Habeas pisces"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[1393.25,4377.25,5962.75,7811.875,8114.875],"x":[23922,23953,23984,24014,24045],"y":[17.5,1232,527.5,428.375,979.625],"text":["month_of_arrival: 2035-07-01<br />qty_tons:   17.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-08-01<br />qty_tons: 1232.000<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-09-01<br />qty_tons:  527.500<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-10-01<br />qty_tons:  428.375<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-11-01<br />qty_tons:  979.625<br />fish_name: Beauvoir/Habeas pisces"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[318.375,283.875,696,1269.75,4179,5263.25,2914.25],"x":[23861,23892,23922,23953,23984,24014,24045],"y":[208.125,113.75,598.75,1751.375,254.25,666.25,2085.875],"text":["month_of_arrival: 2035-05-01<br />qty_tons:  208.125<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-06-01<br />qty_tons:  113.750<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-07-01<br />qty_tons:  598.750<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-08-01<br />qty_tons: 1751.375<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-09-01<br />qty_tons:  254.250<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-10-01<br />qty_tons:  666.250<br />fish_name: Beauvoir/Habeas pisces","month_of_arrival: 2035-11-01<br />qty_tons: 2085.875<br />fish_name: Beauvoir/Habeas pisces"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Beauvoir/Habeas pisces","legendgroup":"Beauvoir/Habeas pisces","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[442.625,964.5,1374.75,2591.875,3144.25,2232.375],"x":[23892,23922,23953,23984,24014,24045],"y":[31.25,64.625,203,278.625,136.625,376.625],"text":["month_of_arrival: 2035-06-01<br />qty_tons:   31.250<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-07-01<br />qty_tons:   64.625<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-08-01<br />qty_tons:  203.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-09-01<br />qty_tons:  278.625<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-10-01<br />qty_tons:  136.625<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-11-01<br />qty_tons:  376.625<br />fish_name: Birdseye/Pisces frigus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(216,144,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[2061.625,2823.125,4254.625,5209],"x":[23861,23892,24014,24045],"y":[212,32,160.5,451.5],"text":["month_of_arrival: 2035-05-01<br />qty_tons:  212.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-06-01<br />qty_tons:   32.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-10-01<br />qty_tons:  160.500<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-11-01<br />qty_tons:  451.500<br />fish_name: Birdseye/Pisces frigus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(216,144,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[239.25,1239.5,2869.5,4462.5,5262.75,2988.5],"x":[23892,23922,23953,23984,24014,24045],"y":[123,510.25,520.75,866.5,1183.875,1225.25],"text":["month_of_arrival: 2035-06-01<br />qty_tons:  123.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-07-01<br />qty_tons:  510.250<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-08-01<br />qty_tons:  520.750<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-09-01<br />qty_tons:  866.500<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-10-01<br />qty_tons: 1183.875<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-11-01<br />qty_tons: 1225.250<br />fish_name: Birdseye/Pisces frigus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(216,144,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[1390.75,4331,5650.75,6910.75,6440.625],"x":[23922,23953,23984,24014,24045],"y":[2.5,46.25,312,901.125,1674.25],"text":["month_of_arrival: 2035-07-01<br />qty_tons:    2.500<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-08-01<br />qty_tons:   46.250<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-09-01<br />qty_tons:  312.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-10-01<br />qty_tons:  901.125<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-11-01<br />qty_tons: 1674.250<br />fish_name: Birdseye/Pisces frigus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(216,144,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[68,804.5,2793.875,3550.5,2438.625],"x":[23922,23953,23984,24014,24045],"y":[628,465.25,1385.125,1712.75,475.625],"text":["month_of_arrival: 2035-07-01<br />qty_tons:  628.000<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-08-01<br />qty_tons:  465.250<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-09-01<br />qty_tons: 1385.125<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-10-01<br />qty_tons: 1712.750<br />fish_name: Birdseye/Pisces frigus","month_of_arrival: 2035-11-01<br />qty_tons:  475.625<br />fish_name: Birdseye/Pisces frigus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(216,144,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Birdseye/Pisces frigus","legendgroup":"Birdseye/Pisces frigus","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[517,259.5,801.5,1300.5,2335.375,2586,1682.375],"x":[23861,23892,23922,23953,23984,24014,24045],"y":[44.125,183.125,163,74.25,256.5,558.25,550],"text":["month_of_arrival: 2035-05-01<br />qty_tons:   44.125<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-06-01<br />qty_tons:  183.125<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-07-01<br />qty_tons:  163.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-08-01<br />qty_tons:   74.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-09-01<br />qty_tons:  256.500<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-10-01<br />qty_tons:  558.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-11-01<br />qty_tons:  550.000<br />fish_name: Cod/Gadus n.specificatae"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[2760.625,4055.375,3750.5,4006.875,4967.875],"x":[23892,23953,23984,24014,24045],"y":[62.5,80,318.25,247.75,241.125],"text":["month_of_arrival: 2035-06-01<br />qty_tons:   62.500<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-08-01<br />qty_tons:   80.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-09-01<br />qty_tons:  318.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-10-01<br />qty_tons:  247.750<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-11-01<br />qty_tons:  241.125<br />fish_name: Cod/Gadus n.specificatae"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,0,0,222.125,565.5,421.5,1147,1357.125],"x":[23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[73,63.75,34,239.25,1017.375,2304,4041,4115.75,1631.375],"text":["month_of_arrival: 2035-03-01<br />qty_tons:   73.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-04-01<br />qty_tons:   63.750<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-05-01<br />qty_tons:   34.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-06-01<br />qty_tons:  239.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-07-01<br />qty_tons: 1017.375<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-08-01<br />qty_tons: 2304.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-09-01<br />qty_tons: 4041.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-10-01<br />qty_tons: 4115.750<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-11-01<br />qty_tons: 1631.375<br />fish_name: Cod/Gadus n.specificatae"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[386,706.25,1048.5,1898,2707.25,2839.875,4128],"x":[23800,23892,23922,23953,23984,24014,24045],"y":[207.375,105.875,342.25,2433,2943.5,4070.875,2312.625],"text":["month_of_arrival: 2035-03-01<br />qty_tons:  207.375<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-06-01<br />qty_tons:  105.875<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-07-01<br />qty_tons:  342.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-08-01<br />qty_tons: 2433.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-09-01<br />qty_tons: 2943.500<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-10-01<br />qty_tons: 4070.875<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-11-01<br />qty_tons: 2312.625<br />fish_name: Cod/Gadus n.specificatae"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,39.875,0,0,177.75,354.125,419.875,744.5],"x":[23800,23861,23892,23922,23953,23984,24014,24045],"y":[48.25,278.5,283.875,68,626.75,2439.75,3130.625,1694.125],"text":["month_of_arrival: 2035-03-01<br />qty_tons:   48.250<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-05-01<br />qty_tons:  278.500<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-06-01<br />qty_tons:  283.875<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-07-01<br />qty_tons:   68.000<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-08-01<br />qty_tons:  626.750<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-09-01<br />qty_tons: 2439.750<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-10-01<br />qty_tons: 3130.625<br />fish_name: Cod/Gadus n.specificatae","month_of_arrival: 2035-11-01<br />qty_tons: 1694.125<br />fish_name: Cod/Gadus n.specificatae"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod/Gadus n.specificatae","legendgroup":"Cod/Gadus n.specificatae","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[394.625,198.5,323.125,221.375,784.25,1142.25,1493.125,1094.875,804.75],"x":[23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[15.75,29.25,193.875,38.125,17.25,158.25,842.25,1491.125,877.625],"text":["month_of_arrival: 2035-03-01<br />qty_tons:   15.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-04-01<br />qty_tons:   29.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-05-01<br />qty_tons:  193.875<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-06-01<br />qty_tons:   38.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-07-01<br />qty_tons:   17.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-08-01<br />qty_tons:  158.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-09-01<br />qty_tons:  842.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-10-01<br />qty_tons: 1491.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-11-01<br />qty_tons:  877.625<br />fish_name: Harland/Piscis sapidum"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(57,182,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[975,1699.375,2040,2589.75,3832.625,3569.375,3706.125,4613],"x":[23831,23861,23892,23922,23953,23984,24014,24045],"y":[600.75,362.25,720.625,373.125,222.75,181.125,300.75,354.875],"text":["month_of_arrival: 2035-04-01<br />qty_tons:  600.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-05-01<br />qty_tons:  362.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-06-01<br />qty_tons:  720.625<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-07-01<br />qty_tons:  373.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-08-01<br />qty_tons:  222.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-09-01<br />qty_tons:  181.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-10-01<br />qty_tons:  300.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-11-01<br />qty_tons:  354.875<br />fish_name: Harland/Piscis sapidum"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(57,182,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709],"base":[-0.5,776.5,918.5],"x":[23892,24014,24045],"y":[0.5,370.5,438.625],"text":["month_of_arrival: 2035-06-01<br />qty_tons:    0.500<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-10-01<br />qty_tons:  370.500<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-11-01<br />qty_tons:  438.625<br />fish_name: Harland/Piscis sapidum"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(57,182,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[343.5,1030.125,617.75,593.75,1846.875,2558.5,2273.25,3095.125],"x":[23831,23861,23892,23922,23953,23984,24014,24045],"y":[264.25,324.625,88.5,454.75,51.125,148.75,566.625,1032.875],"text":["month_of_arrival: 2035-04-01<br />qty_tons:  264.250<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-05-01<br />qty_tons:  324.625<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-06-01<br />qty_tons:   88.500<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-07-01<br />qty_tons:  454.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-08-01<br />qty_tons:   51.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-09-01<br />qty_tons:  148.750<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-10-01<br />qty_tons:  566.625<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-11-01<br />qty_tons: 1032.875<br />fish_name: Harland/Piscis sapidum"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(57,182,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,217.125,381.75,337.75],"x":[23861,23984,24014,24045],"y":[39.875,137,38.125,406.75],"text":["month_of_arrival: 2035-05-01<br />qty_tons:   39.875<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-09-01<br />qty_tons:  137.000<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-10-01<br />qty_tons:   38.125<br />fish_name: Harland/Piscis sapidum","month_of_arrival: 2035-11-01<br />qty_tons:  406.750<br />fish_name: Harland/Piscis sapidum"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(57,182,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Harland/Piscis sapidum","legendgroup":"Harland/Piscis sapidum","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709],"base":[2460.25,3770.5],"x":[23922,23953],"y":[129.5,62.125],"text":["month_of_arrival: 2035-07-01<br />qty_tons:  129.500<br />fish_name: Helenaa/Pisces satis","month_of_arrival: 2035-08-01<br />qty_tons:   62.125<br />fish_name: Helenaa/Pisces satis"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Helenaa/Pisces satis","legendgroup":"Helenaa/Pisces satis","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":25.19999999999709,"base":757.375,"x":[24014],"y":[19.125],"text":"month_of_arrival: 2035-10-01<br />qty_tons:   19.125<br />fish_name: Helenaa/Pisces satis","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Helenaa/Pisces satis","legendgroup":"Helenaa/Pisces satis","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[908.5,585.375,1843.375,2257,2895.625],"x":[23861,23892,23953,24014,24045],"y":[121.625,32.375,3.5,16.25,199.5],"text":["month_of_arrival: 2035-05-01<br />qty_tons:  121.625<br />fish_name: Helenaa/Pisces satis","month_of_arrival: 2035-06-01<br />qty_tons:   32.375<br />fish_name: Helenaa/Pisces satis","month_of_arrival: 2035-08-01<br />qty_tons:    3.500<br />fish_name: Helenaa/Pisces satis","month_of_arrival: 2035-10-01<br />qty_tons:   16.250<br />fish_name: Helenaa/Pisces satis","month_of_arrival: 2035-11-01<br />qty_tons:  199.500<br />fish_name: Helenaa/Pisces satis"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Helenaa/Pisces satis","legendgroup":"Helenaa/Pisces satis","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709],"base":[489.75,480.75],"x":[24014,24045],"y":[267.625,437.75],"text":["month_of_arrival: 2035-10-01<br />qty_tons:  267.625<br />fish_name: Offidiaa/Piscis osseus","month_of_arrival: 2035-11-01<br />qty_tons:  437.750<br />fish_name: Offidiaa/Piscis osseus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Offidiaa/Piscis osseus","legendgroup":"Offidiaa/Piscis osseus","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709],"base":[2253.125,1813.25,1224.75],"x":[23984,24014,24045],"y":[305.375,443.75,1670.875],"text":["month_of_arrival: 2035-09-01<br />qty_tons:  305.375<br />fish_name: Offidiaa/Piscis osseus","month_of_arrival: 2035-10-01<br />qty_tons:  443.750<br />fish_name: Offidiaa/Piscis osseus","month_of_arrival: 2035-11-01<br />qty_tons: 1670.875<br />fish_name: Offidiaa/Piscis osseus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Offidiaa/Piscis osseus","legendgroup":"Offidiaa/Piscis osseus","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709],"base":[297.25,147.125],"x":[24014,24045],"y":[84.5,190.625],"text":["month_of_arrival: 2035-10-01<br />qty_tons:   84.500<br />fish_name: Offidiaa/Piscis osseus","month_of_arrival: 2035-11-01<br />qty_tons:  190.625<br />fish_name: Offidiaa/Piscis osseus"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Offidiaa/Piscis osseus","legendgroup":"Offidiaa/Piscis osseus","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[452.25,388.5,581,734.5],"x":[23922,23953,23984,24014],"y":[332,753.75,912.125,360.375],"text":["month_of_arrival: 2035-07-01<br />qty_tons:  332.000<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-08-01<br />qty_tons:  753.750<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-09-01<br />qty_tons:  912.125<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-10-01<br />qty_tons:  360.375<br />fish_name: Salmon/Oncorhynchus rosea"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709],"base":[3632.5,3239.625,3497.625],"x":[23953,23984,24014],"y":[138,329.75,208.5],"text":["month_of_arrival: 2035-08-01<br />qty_tons:  138.000<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-09-01<br />qty_tons:  329.750<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-10-01<br />qty_tons:  208.500<br />fish_name: Salmon/Oncorhynchus rosea"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":25.19999999999709,"base":541.5,"x":[23953],"y":[24],"text":"month_of_arrival: 2035-08-01<br />qty_tons:   24.000<br />fish_name: Salmon/Oncorhynchus rosea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709],"base":[919,837.25,1429],"x":[23953,23984,24014],"y":[924.375,1415.875,384.25],"text":["month_of_arrival: 2035-08-01<br />qty_tons:  924.375<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-09-01<br />qty_tons: 1415.875<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-10-01<br />qty_tons:  384.250<br />fish_name: Salmon/Oncorhynchus rosea"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709],"base":[161.75,29.25,208],"x":[23953,23984,24014],"y":[16,187.875,89.25],"text":["month_of_arrival: 2035-08-01<br />qty_tons:   16.000<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-09-01<br />qty_tons:  187.875<br />fish_name: Salmon/Oncorhynchus rosea","month_of_arrival: 2035-10-01<br />qty_tons:   89.250<br />fish_name: Salmon/Oncorhynchus rosea"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Salmon/Oncorhynchus rosea","legendgroup":"Salmon/Oncorhynchus rosea","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[313.75,235.625,388.625,494.75,230],"x":[23922,23953,23984,24014,24045],"y":[138.5,152.875,192.375,239.75,574.75],"text":["month_of_arrival: 2035-07-01<br />qty_tons:  138.500<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-08-01<br />qty_tons:  152.875<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-09-01<br />qty_tons:  192.375<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-10-01<br />qty_tons:  239.750<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-11-01<br />qty_tons:  574.750<br />fish_name: Sockfish/Pisces foetida"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(149,144,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Sockfish/Pisces foetida","legendgroup":"Sockfish/Pisces foetida","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[963.625,1185.375,1510.875,1998.5,2855,2695.875,3035.25,3232],"x":[23831,23861,23892,23922,23953,23984,24014,24045],"y":[11.375,514,529.125,461.75,777.5,543.75,462.375,1381],"text":["month_of_arrival: 2035-04-01<br />qty_tons:   11.375<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-05-01<br />qty_tons:  514.000<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-06-01<br />qty_tons:  529.125<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-07-01<br />qty_tons:  461.750<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-08-01<br />qty_tons:  777.500<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-09-01<br />qty_tons:  543.750<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-10-01<br />qty_tons:  462.375<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-11-01<br />qty_tons: 1381.000<br />fish_name: Sockfish/Pisces foetida"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(149,144,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Sockfish/Pisces foetida","legendgroup":"Sockfish/Pisces foetida","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[291,497.125,491.75,616.75,599.625,424,544.625],"x":[23861,23892,23922,23953,23984,24014,24045],"y":[617.5,88.25,102,302.25,237.625,1005,680.125],"text":["month_of_arrival: 2035-05-01<br />qty_tons:  617.500<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-06-01<br />qty_tons:   88.250<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-07-01<br />qty_tons:  102.000<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-08-01<br />qty_tons:  302.250<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-09-01<br />qty_tons:  237.625<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-10-01<br />qty_tons: 1005.000<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-11-01<br />qty_tons:  680.125<br />fish_name: Sockfish/Pisces foetida"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(149,144,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Sockfish/Pisces foetida","legendgroup":"Sockfish/Pisces foetida","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,60.125,0],"x":[23953,23984,24014,24045],"y":[161.75,29.25,147.875,147.125],"text":["month_of_arrival: 2035-08-01<br />qty_tons:  161.750<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-09-01<br />qty_tons:   29.250<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-10-01<br />qty_tons:  147.875<br />fish_name: Sockfish/Pisces foetida","month_of_arrival: 2035-11-01<br />qty_tons:  147.125<br />fish_name: Sockfish/Pisces foetida"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(149,144,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Sockfish/Pisces foetida","legendgroup":"Sockfish/Pisces foetida","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709],"base":[285.125,140.625],"x":[24014,24045],"y":[209.625,89.375],"text":["month_of_arrival: 2035-10-01<br />qty_tons:  209.625<br />fish_name: Tuna/Thunnini n.vera","month_of_arrival: 2035-11-01<br />qty_tons:   89.375<br />fish_name: Tuna/Thunnini n.vera"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Tuna/Thunnini n.vera","legendgroup":"Tuna/Thunnini n.vera","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":25.19999999999709,"base":0,"x":[24014],"y":[60.125],"text":"month_of_arrival: 2035-10-01<br />qty_tons:   60.125<br />fish_name: Tuna/Thunnini n.vera","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Tuna/Thunnini n.vera","legendgroup":"Tuna/Thunnini n.vera","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,0,0,0,0,0,0,0,0],"x":[23772,23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[299.5,394.625,198.5,323.125,221.375,313.75,235.625,388.625,285.125,140.625],"text":["month_of_arrival: 2035-02-01<br />qty_tons:  299.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-03-01<br />qty_tons:  394.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-04-01<br />qty_tons:  198.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-05-01<br />qty_tons:  323.125<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-06-01<br />qty_tons:  221.375<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-07-01<br />qty_tons:  313.750<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-08-01<br />qty_tons:  235.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-09-01<br />qty_tons:  388.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-10-01<br />qty_tons:  285.125<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-11-01<br />qty_tons:  140.625<br />fish_name: Wrasse/Labridae n.refert"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,98,188,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wrasse/Labridae n.refert","legendgroup":"Wrasse/Labridae n.refert","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,0,0,0,0,0,0,0,0],"x":[23772,23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[791.25,1074.625,963.625,1185.375,1510.875,1998.5,2855,2695.875,3035.25,3232],"text":["month_of_arrival: 2035-02-01<br />qty_tons:  791.250<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-03-01<br />qty_tons: 1074.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-04-01<br />qty_tons:  963.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-05-01<br />qty_tons: 1185.375<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-06-01<br />qty_tons: 1510.875<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-07-01<br />qty_tons: 1998.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-08-01<br />qty_tons: 2855.000<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-09-01<br />qty_tons: 2695.875<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-10-01<br />qty_tons: 3035.250<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-11-01<br />qty_tons: 3232.000<br />fish_name: Wrasse/Labridae n.refert"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,98,188,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wrasse/Labridae n.refert","legendgroup":"Wrasse/Labridae n.refert","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,0,0,0],"x":[23922,23953,23984,24014,24045],"y":[222.125,541.5,421.5,489.75,480.75],"text":["month_of_arrival: 2035-07-01<br />qty_tons:  222.125<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-08-01<br />qty_tons:  541.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-09-01<br />qty_tons:  421.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-10-01<br />qty_tons:  489.750<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-11-01<br />qty_tons:  480.750<br />fish_name: Wrasse/Labridae n.refert"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,98,188,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wrasse/Labridae n.refert","legendgroup":"Wrasse/Labridae n.refert","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":[25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709,25.19999999999709],"base":[0,0,0,0,0,0,0,0,0,0],"x":[23772,23800,23831,23861,23892,23922,23953,23984,24014,24045],"y":[216.25,386,343.5,291,497.125,491.75,616.75,599.625,424,544.625],"text":["month_of_arrival: 2035-02-01<br />qty_tons:  216.250<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-03-01<br />qty_tons:  386.000<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-04-01<br />qty_tons:  343.500<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-05-01<br />qty_tons:  291.000<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-06-01<br />qty_tons:  497.125<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-07-01<br />qty_tons:  491.750<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-08-01<br />qty_tons:  616.750<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-09-01<br />qty_tons:  599.625<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-10-01<br />qty_tons:  424.000<br />fish_name: Wrasse/Labridae n.refert","month_of_arrival: 2035-11-01<br />qty_tons:  544.625<br />fish_name: Wrasse/Labridae n.refert"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,98,188,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wrasse/Labridae n.refert","legendgroup":"Wrasse/Labridae n.refert","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":55.452054794520549,"r":7.3059360730593621,"b":40.182648401826491,"l":48.949771689497723},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Fish Arrivals by City Over Time","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.31583941172982266],"automargin":true,"type":"linear","autorange":false,"range":[23744.490000000002,24072.509999999998],"tickmode":"array","ticktext":["Apr","Jul","Oct"],"tickvals":[23831,23922,24014],"categoryorder":"array","categoryarray":["Apr","Jul","Oct"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y4","title":"","hoverformat":".2f"},"annotations":[{"text":"Month of Arrival","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178088},{"text":"Total Quantity in Tons","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-33.607305936073068},{"text":"City of Haacklee","x":0.15791970586491133,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"City of Himark","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"City of Lomark","x":0.84208029413508867,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"City of Paackland","x":0.15791970586491133,"y":0.48515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"City of South Paackland","x":0.5,"y":0.48515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.51484018264840181,1],"automargin":true,"type":"linear","autorange":false,"range":[-178.9375,3757.6875],"tickmode":"array","ticktext":["0","1000","2000","3000"],"tickvals":[0,1000,2000,3000],"categoryorder":"array","categoryarray":["0","1000","2000","3000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.31583941172982266,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.31583941172982266,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.35082725493684397,"x1":0.64917274506315603,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.35082725493684397,"x1":0.64917274506315603,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.68416058827017723,"x1":1,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.68416058827017723,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.31583941172982266,"y0":0,"y1":0.48515981735159819},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.31583941172982266,"y0":0,"y1":23.37899543378996,"yanchor":0.48515981735159819,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.35082725493684397,"x1":0.64917274506315603,"y0":0,"y1":0.48515981735159819},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.35082725493684397,"x1":0.64917274506315603,"y0":0,"y1":23.37899543378996,"yanchor":0.48515981735159819,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[23744.490000000002,24072.509999999998],"tickmode":"array","ticktext":["Apr","Jul","Oct"],"tickvals":[23831,23922,24014],"categoryorder":"array","categoryarray":["Apr","Jul","Oct"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.35082725493684397,0.64917274506315603],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y5","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[-316.10625000000005,6638.2312499999998],"tickmode":"array","ticktext":["0","2000","4000","6000"],"tickvals":[0,1999.9999999999998,4000,6000],"categoryorder":"array","categoryarray":["0","2000","4000","6000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.51484018264840181,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[23744.490000000002,24072.509999999998],"tickmode":"array","ticktext":["Apr","Jul","Oct"],"tickvals":[23831,23922,24014],"categoryorder":"array","categoryarray":["Apr","Jul","Oct"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.68416058827017723,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[-343.18125000000003,7195.8062499999996],"tickmode":"array","ticktext":["0","2000","4000","6000"],"tickvals":[0,2000,3999.9999999999995,6000],"categoryorder":"array","categoryarray":["0","2000","4000","6000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.51484018264840181,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x3","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[-454.72500000000002,9549.2250000000004],"tickmode":"array","ticktext":["0","2500","5000","7500"],"tickvals":[0,2500,5000,7500],"categoryorder":"array","categoryarray":["0","2500","5000","7500"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.48515981735159819],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[-296.47500000000002,6225.9750000000004],"tickmode":"array","ticktext":["0","2000","4000","6000"],"tickvals":[0,2000,4000.0000000000005,6000],"categoryorder":"array","categoryarray":["0","2000","4000","6000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.48515981735159819],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"fish_name","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"cd0c115e39e6":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"cd0c115e39e6","visdat":{"cd0c115e39e6":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Insights:</strong></p>
<ol type="1">
<li>Cod arrival increased significantly in Paackland,South Paackland and Lomark from July</li>
<li>Significant consistent increase in Wrasse arrivals in Himark</li>
<li>Sockfish arrived significantly in Hacklee and Himark in November</li>
<li>Offidiaa arrived significantly in Paackland in November</li>
</ol>
</section>
</section>
<section id="exploring-activities-of-southseafood-express-corp" class="level2">
<h2 class="anchored" data-anchor-id="exploring-activities-of-southseafood-express-corp">4. Exploring activities of SouthSeafood Express Corp</h2>
<section id="plotting-monthly-dwell-time-of-vessels-belonging-to-southseafood-express-corp" class="level3">
<h3 class="anchored" data-anchor-id="plotting-monthly-dwell-time-of-vessels-belonging-to-southseafood-express-corp">4.1 Plotting Monthly Dwell time of vessels belonging to SouthSeafood Express Corp</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate dwell time by month, city, and vessel_id</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>dwell_time_by_month_city_vessel <span class="ot">&lt;-</span> transponder_ping_df <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vessel_company <span class="sc">==</span> <span class="st">"SouthSeafood Express Corp"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">format</span>(date, <span class="st">"%Y-%m"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month, location, vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">monthly_dwell_time =</span> <span class="fu">sum</span>(dwell), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting with faceting by vessel_id</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dwell_time_by_month_city_vessel, <span class="fu">aes</span>(<span class="at">y =</span> month, <span class="at">x =</span> monthly_dwell_time, <span class="at">fill =</span> location)) <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>vessel_id, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span>  <span class="co"># Free scales can be set if necessary</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Monthly Dwell Time by City for Company A, by Vessel"</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Month"</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Dwell Time"</span>) <span class="sc">+</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">8</span>))  <span class="co"># Adjust strip text for better readability</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a156595f968004cd0483" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a156595f968004cd0483">{"x":{"data":[{"orientation":"v","width":[882504.39215500001,1184446.983183,1889641.4891289999,919006.29637500003],"base":[0.55000000000000004,1.55,2.5500000000000003,3.5500000000000003],"x":[441252.1960775,592223.4915915,944820.74456449994,459503.14818750002],"y":[0.14999999999999991,0.12857142857142856,0.17999999999999972,0.17999999999999972],"text":["monthly_dwell_time:  882504.392<br />month: 0.1500000<br />location: City of Himark","monthly_dwell_time: 1184446.983<br />month: 0.1285714<br />location: City of Himark","monthly_dwell_time: 1889641.489<br />month: 0.1800000<br />location: City of Himark","monthly_dwell_time:  919006.296<br />month: 0.1800000<br />location: City of Himark"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"City of Himark","legendgroup":"City of Himark","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[12982.299243000001,12609.523341,3809.3088120000002],"base":[1.6785714285714286,2.73,3.73],"x":[6491.1496215000006,6304.7616705,1904.6544060000001],"y":[0.12857142857142856,0.17999999999999972,0.17999999999999972],"text":["monthly_dwell_time:   12982.299<br />month: 0.1285714<br />location: City of Lomark","monthly_dwell_time:   12609.523<br />month: 0.1800000<br />location: City of Lomark","monthly_dwell_time:    3809.309<br />month: 0.1800000<br />location: City of Lomark"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(222,140,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"City of Lomark","legendgroup":"City of Lomark","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[577016.47861700004,956062.47774300002,1006672.3167129999,524916.97737099999],"base":[0.55000000000000004,1.5500000000000003,2.5500000000000003,3.5499999999999998],"x":[288508.23930850002,478031.23887150001,503336.15835649997,262458.48868549999],"y":[0.11250000000000004,0.11249999999999982,0.11249999999999982,0.128571428571429],"text":["monthly_dwell_time:  577016.479<br />month: 0.1125000<br />location: City of Lomark","monthly_dwell_time:  956062.478<br />month: 0.1125000<br />location: City of Lomark","monthly_dwell_time: 1006672.317<br />month: 0.1125000<br />location: City of Lomark","monthly_dwell_time:  524916.977<br />month: 0.1285714<br />location: City of Lomark"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(222,140,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"City of Lomark","legendgroup":"City of Lomark","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":6707.7437639999998,"base":2.6625000000000001,"x":[3353.8718819999999],"y":[0.11249999999999982],"text":"monthly_dwell_time:    6707.744<br />month: 0.1125000<br />location: City of Paackland","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"City of Paackland","legendgroup":"City of Paackland","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[484381.58286600001,376739.87387299997,843995.93019600003,446775.85300900001],"base":[0.66249999999999998,1.6625000000000001,2.7749999999999999,3.6785714285714284],"x":[242190.79143300001,188369.93693649999,421997.96509800002,223387.92650450001],"y":[0.11250000000000004,0.11249999999999982,0.11249999999999982,0.128571428571429],"text":["monthly_dwell_time:  484381.583<br />month: 0.1125000<br />location: Cod Table","monthly_dwell_time:  376739.874<br />month: 0.1125000<br />location: Cod Table","monthly_dwell_time:  843995.930<br />month: 0.1125000<br />location: Cod Table","monthly_dwell_time:  446775.853<br />month: 0.1285714<br />location: Cod Table"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Cod Table","legendgroup":"Cod Table","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[357640.59913300001,30929.248829,137316.99249100001,36997.157825000002],"base":[0.77500000000000002,1.7750000000000001,2.8875000000000002,3.8071428571428569],"x":[178820.29956650001,15464.6244145,68658.496245500006,18498.578912500001],"y":[0.11250000000000004,0.11249999999999982,0.11249999999999982,0.128571428571429],"text":["monthly_dwell_time:  357640.599<br />month: 0.1125000<br />location: Exit East","monthly_dwell_time:   30929.249<br />month: 0.1125000<br />location: Exit East","monthly_dwell_time:  137316.992<br />month: 0.1125000<br />location: Exit East","monthly_dwell_time:   36997.158<br />month: 0.1285714<br />location: Exit East"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Exit East","legendgroup":"Exit East","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[840520.45968100009,6410.3480250000002],"base":[0.88749999999999996,1.8875000000000002],"x":[420260.22984050005,3205.1740125000001],"y":[0.11250000000000004,0.11249999999999982],"text":["monthly_dwell_time:  840520.460<br />month: 0.1125000<br />location: Ghoti Preserve","monthly_dwell_time:    6410.348<br />month: 0.1125000<br />location: Ghoti Preserve"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,139,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Ghoti Preserve","legendgroup":"Ghoti Preserve","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[12969.607316,12551.276875],"base":[0.70000000000000007,1.8071428571428572],"x":[6484.8036579999998,6275.6384374999998],"y":[0.14999999999999991,0.12857142857142856],"text":["monthly_dwell_time:   12969.607<br />month: 0.1500000<br />location: Nav 1","monthly_dwell_time:   12551.277<br />month: 0.1285714<br />location: Nav 1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Nav 1","legendgroup":"Nav 1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[106090.577168,89163.101068999997,51972.360050999996,31276.581059],"base":[0.99999999999999989,2,3,3.9357142857142855],"x":[53045.288584000002,44581.550534499998,25986.180025499998,15638.2905295],"y":[0.11249999999999993,0.11249999999999982,0.11249999999999982,0.12857142857142856],"text":["monthly_dwell_time:  106090.577<br />month: 0.1125000<br />location: Nav 1","monthly_dwell_time:   89163.101<br />month: 0.1125000<br />location: Nav 1","monthly_dwell_time:   51972.360<br />month: 0.1125000<br />location: Nav 1","monthly_dwell_time:   31276.581<br />month: 0.1285714<br />location: Nav 1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Nav 1","legendgroup":"Nav 1","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[37082.045415000001,15282.239793000001,93652.766746000008,74215.689626000007],"base":[1.1125,2.1125000000000003,3.1125000000000003,4.0642857142857149],"x":[18541.0227075,7641.1198965000003,46826.383373000004,37107.844813000003],"y":[0.11249999999999982,0.11249999999999982,0.11249999999999982,0.12857142857142811],"text":["monthly_dwell_time:   37082.045<br />month: 0.1125000<br />location: Nav 2","monthly_dwell_time:   15282.240<br />month: 0.1125000<br />location: Nav 2","monthly_dwell_time:   93652.767<br />month: 0.1125000<br />location: Nav 2","monthly_dwell_time:   74215.690<br />month: 0.1285714<br />location: Nav 2"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,180,240,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Nav 2","legendgroup":"Nav 2","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[9986.5156299999999,10860.559085999999],"base":[0.85000000000000009,1.9357142857142857],"x":[4993.2578149999999,5430.2795429999996],"y":[0.14999999999999991,0.12857142857142878],"text":["monthly_dwell_time:    9986.516<br />month: 0.1500000<br />location: Nav A","monthly_dwell_time:   10860.559<br />month: 0.1285714<br />location: Nav A"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Nav A","legendgroup":"Nav A","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[379718.35173599998,422935.12697300001,212604.38940099999,110781.894197],"base":[1,2.0642857142857141,2.9100000000000001,3.9100000000000001],"x":[189859.17586799999,211467.5634865,106302.1947005,55390.947098500001],"y":[0.14999999999999991,0.128571428571429,0.17999999999999972,0.17999999999999972],"text":["monthly_dwell_time:  379718.352<br />month: 0.1500000<br />location: Nav C","monthly_dwell_time:  422935.127<br />month: 0.1285714<br />location: Nav C","monthly_dwell_time:  212604.389<br />month: 0.1800000<br />location: Nav C","monthly_dwell_time:  110781.894<br />month: 0.1800000<br />location: Nav C"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Nav C","legendgroup":"Nav C","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[37886.447969000001,61249.673900000002,49968.179735999998,21436.89141],"base":[1.2250000000000001,2.2250000000000001,3.2250000000000001,4.1928571428571431],"x":[18943.2239845,30624.836950000001,24984.089867999999,10718.445705],"y":[0.11249999999999982,0.11249999999999982,0.11249999999999982,0.12857142857142811],"text":["monthly_dwell_time:   37886.448<br />month: 0.1125000<br />location: Nav C","monthly_dwell_time:   61249.674<br />month: 0.1125000<br />location: Nav C","monthly_dwell_time:   49968.180<br />month: 0.1125000<br />location: Nav C","monthly_dwell_time:   21436.891<br />month: 0.1285714<br />location: Nav C"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Nav C","legendgroup":"Nav C","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[21060.776549000002,14955.506727,14861.882389,9994.4969669999991],"base":[1.1500000000000001,2.1928571428571426,3.0899999999999999,4.0899999999999999],"x":[10530.388274500001,7477.7533635,7430.9411945000002,4997.2484834999996],"y":[0.14999999999999991,0.128571428571429,0.17999999999999972,0.17999999999999972],"text":["monthly_dwell_time:   21060.777<br />month: 0.1500000<br />location: Nav E","monthly_dwell_time:   14955.507<br />month: 0.1285714<br />location: Nav E","monthly_dwell_time:   14861.882<br />month: 0.1800000<br />location: Nav E","monthly_dwell_time:    9994.497<br />month: 0.1800000<br />location: Nav E"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Nav E","legendgroup":"Nav E","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[897808.53177700005,956210.82901400002,340657.35525199998,180552.98714899999],"base":[1.3,2.3214285714285712,3.27,4.2700000000000005],"x":[448904.26588850003,478105.41450700001,170328.67762599999,90276.493574499997],"y":[0.14999999999999991,0.128571428571429,0.17999999999999972,0.17999999999999972],"text":["monthly_dwell_time:  897808.532<br />month: 0.1500000<br />location: Wrasse Beds","monthly_dwell_time:  956210.829<br />month: 0.1285714<br />location: Wrasse Beds","monthly_dwell_time:  340657.355<br />month: 0.1800000<br />location: Wrasse Beds","monthly_dwell_time:  180552.987<br />month: 0.1800000<br />location: Wrasse Beds"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,100,176,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wrasse Beds","legendgroup":"Wrasse Beds","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[7940.735036,1092582.0996310001,457053.18150499999,3920.0590889999999],"base":[1.3374999999999999,2.3374999999999999,3.3374999999999999,4.3214285714285721],"x":[3970.367518,546291.04981550004,228526.59075249999,1960.0295444999999],"y":[0.11249999999999982,0.11249999999999982,0.11249999999999982,0.12857142857142811],"text":["monthly_dwell_time:    7940.735<br />month: 0.1125000<br />location: Wrasse Beds","monthly_dwell_time: 1092582.100<br />month: 0.1125000<br />location: Wrasse Beds","monthly_dwell_time:  457053.182<br />month: 0.1125000<br />location: Wrasse Beds","monthly_dwell_time:    3920.059<br />month: 0.1285714<br />location: Wrasse Beds"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,100,176,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wrasse Beds","legendgroup":"Wrasse Beds","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":54.389373183893731,"r":7.3059360730593621,"b":69.406392694063939,"l":66.484018264840202},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Monthly Dwell Time by City for Company A, by Vessel","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.47309197651663404],"automargin":true,"type":"linear","autorange":false,"range":[-94482.074456450006,1984123.5635854499],"tickmode":"array","ticktext":["0","500000","1000000","1500000"],"tickvals":[0,500000.00000000006,1000000,1500000],"categoryorder":"array","categoryarray":["0","500000","1000000","1500000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Dwell Time","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-51.14155251141554},{"text":"Month","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-51.14155251141554},{"text":"roachrobberdb6","x":0.23654598825831702,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":10.62681610626816},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"snappersnatcher7be","x":0.76345401174168304,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":10.62681610626816},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,4.5999999999999996],"tickmode":"array","ticktext":["2035-02","2035-03","2035-04","2035-05"],"tickvals":[1,2,3,4],"categoryorder":"array","categoryarray":["2035-02","2035-03","2035-04","2035-05"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.47309197651663404,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.47309197651663404,"y0":0,"y1":22.316313823163142,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.52690802348336596,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.52690802348336596,"x1":1,"y0":0,"y1":22.316313823163142,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[-94482.074456450006,1984123.5635854499],"tickmode":"array","ticktext":["0","500000","1000000","1500000"],"tickvals":[0,500000.00000000006,1000000,1500000],"categoryorder":"array","categoryarray":["0","500000","1000000","1500000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.52690802348336596,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y2","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[0.40000000000000002,4.5999999999999996],"tickmode":"array","ticktext":["2035-02","2035-03","2035-04","2035-05"],"tickvals":[1,2,3,4],"categoryorder":"array","categoryarray":["2035-02","2035-03","2035-04","2035-05"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"location","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"cd0c7be25820":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"cd0c7be25820","visdat":{"cd0c7be25820":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Insights:</strong></p>
<ol type="1">
<li><p>SouthSeafood Express Corp seems to have been caught in the month of May as transponder pings stops at May</p></li>
<li><p>Vessel snappersnatcher7be seems to have spent considerable time in ecological preserve ‘ghoti preserve’ in april and in wrasse beds in april. The common fish present in both locations in Wrasse.</p></li>
</ol>
</section>
<section id="heatmap-of-dwell-time" class="level3">
<h3 class="anchored" data-anchor-id="heatmap-of-dwell-time">4.2 Heatmap of dwell time</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(transponder_ping_south_df, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> location, <span class="at">fill =</span> total_dwell_time)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_tile</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span>  <span class="co"># Adds borders to each tile</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"lightblue"</span>, <span class="at">high =</span> <span class="st">"darkblue"</span>, <span class="at">name =</span> <span class="st">"Dwell Time"</span>) <span class="sc">+</span>  <span class="co"># Color gradient</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_wrap</span>(<span class="sc">~</span> vessel_id, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">"free_y"</span>)<span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Heatmap of Vessel Location Dwell Times"</span>, <span class="at">x =</span> <span class="st">"Date"</span>, <span class="at">y =</span> <span class="st">"Location"</span>) <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>),  <span class="co"># Rotate date labels for clarity</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>      )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Insight:</strong></p>
<p>Vessels seem to be spending time in exit east as well Himark and Lomark.</p>
</section>
</section>
<section id="deep-dive-into-southseafood-express-corp" class="level2">
<h2 class="anchored" data-anchor-id="deep-dive-into-southseafood-express-corp">5. Deep dive into SouthSeafood Express Corp</h2>
<section id="deepdiving-into-suspected-illegal-fish-arrivals-in-feb" class="level3">
<h3 class="anchored" data-anchor-id="deepdiving-into-suspected-illegal-fish-arrivals-in-feb">5.1 Deepdiving into suspected illegal fish arrivals in Feb</h3>
<p><img src="images/clipboard-807814446.png" class="img-fluid" width="420"></p>
<p>Lets investigate the consistent increase in arrival of Wrasse fish in Himark.</p>
<p>Wrasse is found in Ghoti Preserve,Nemo Reef and Wrasse beds and thats where vessels of SouthSeafood Express Corp spent most of the dwell time</p>
</section>
<section id="deep-dive-into-arrivals-for-wrasse-in-himark-in-feb" class="level3">
<h3 class="anchored" data-anchor-id="deep-dive-into-arrivals-for-wrasse-in-himark-in-feb">5.2 Deep dive into arrivals for Wrasse in Himark in Feb</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set hardcoded values</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>hardcoded_city <span class="ot">&lt;-</span> <span class="st">"City of Himark"</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>hardcoded_fish <span class="ot">&lt;-</span> <span class="st">"labridaenrefert9be"</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>hardcoded_month <span class="ot">&lt;-</span> <span class="st">"2035-02-01"</span>  <span class="co"># Use the format YYYY-MM to match with floor_date</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for the specific city, fish, and month</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> transactions_cargo <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(city_of_arrival <span class="sc">==</span> hardcoded_city, fish_in_cargo <span class="sc">==</span> hardcoded_fish) <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">day_of_arrival =</span> <span class="fu">floor_date</span>(date_of_arrival, <span class="st">"day"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(day_of_arrival <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(hardcoded_month) <span class="sc">&amp;</span> day_of_arrival <span class="sc">&lt;</span> <span class="fu">as.Date</span>(hardcoded_month) <span class="sc">%m+%</span> <span class="fu">months</span>(<span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(day_of_arrival) <span class="sc">%&gt;%</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">qty_tons =</span> <span class="fu">sum</span>(qty_tons), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot with ggplot2</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(filtered_data, <span class="fu">aes</span>(<span class="at">x =</span> day_of_arrival, <span class="at">y =</span> qty_tons, <span class="at">fill =</span> hardcoded_fish)) <span class="sc">+</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Daily Fish Arrivals in"</span>, hardcoded_city, <span class="st">"for"</span>, hardcoded_fish),</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Day of Arrival"</span>, <span class="at">y =</span> <span class="st">"Total Quantity in Tons"</span>) <span class="sc">+</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to an interactive plotly plot</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-95ff82992feb0b936b63" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-95ff82992feb0b936b63">{"x":{"data":[{"orientation":"v","width":[0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[23775,23777,23779,23780,23782,23784,23786,23787,23789,23791,23793,23794,23796,23798],"y":[54.000000000000007,6.75,108.375,32.625,108.75,31.500000000000004,84.75,16.875,105,14.625,71.375,23.625,73.375,59.625],"text":["day_of_arrival: 2035-02-04<br />qty_tons:  54.000<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-06<br />qty_tons:   6.750<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-08<br />qty_tons: 108.375<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-09<br />qty_tons:  32.625<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-11<br />qty_tons: 108.750<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-13<br />qty_tons:  31.500<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-15<br />qty_tons:  84.750<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-16<br />qty_tons:  16.875<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-18<br />qty_tons: 105.000<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-20<br />qty_tons:  14.625<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-22<br />qty_tons:  71.375<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-23<br />qty_tons:  23.625<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-25<br />qty_tons:  73.375<br />hardcoded_fish: labridaenrefert9be","day_of_arrival: 2035-02-27<br />qty_tons:  59.625<br />hardcoded_fish: labridaenrefert9be"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"labridaenrefert9be","legendgroup":"labridaenrefert9be","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":47.91190782402667,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Daily Fish Arrivals in City of Himark for labridaenrefert9be","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[23773.355,23799.645],"tickmode":"array","ticktext":["Feb 05","Feb 12","Feb 19","Feb 26"],"tickvals":[23776,23783,23790,23797],"categoryorder":"array","categoryarray":["Feb 05","Feb 12","Feb 19","Feb 26"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Day of Arrival","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.4375,114.1875],"tickmode":"array","ticktext":["0","30","60","90"],"tickvals":[0,30,60,90],"categoryorder":"array","categoryarray":["0","30","60","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Total Quantity in Tons","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"hardcoded_fish","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"cd0c525548":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"cd0c525548","visdat":{"cd0c525548":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Insights:</strong></p>
<p>Lets pick the day with highest arrival quantity ie Feb 12</p>
</section>
<section id="finding-transshipment-possibilities-around-feb-12" class="level3">
<h3 class="anchored" data-anchor-id="finding-transshipment-possibilities-around-feb-12"><strong>5.3 Finding Transshipment Possibilities around Feb 12</strong></h3>
<p>Below logic looks for Transhipment possibilities. So it looks for vessels which have visited the same locations as the suspected vessel in the vicinity of the suspected transaction and also arrived at the suspected port one day before the suspected transaction.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#logic to zero in on potential transshipment vessels</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Hardcoded parameters</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>hardcoded_vessel_id <span class="ot">&lt;-</span> <span class="st">"snappersnatcher7be"</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>date_from <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2035-02-01"</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>date_to <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2035-02-06"</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>target_location <span class="ot">&lt;-</span> <span class="st">"City of Himark"</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>daily_vessel_locations_list <span class="ot">&lt;-</span> transponder_ping_day_sum_df <span class="sc">%&gt;%</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date, vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">ping_locations =</span> <span class="fu">list</span>(<span class="fu">unique</span>(location)), <span class="at">.groups =</span> <span class="st">'drop'</span>)<span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">date_of_ping=</span>date)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Gather location data for the specified vessel within the date range</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>vessel_data <span class="ot">&lt;-</span> daily_vessel_locations_list <span class="sc">%&gt;%</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vessel_id <span class="sc">==</span> hardcoded_vessel_id, </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>         date_of_ping <span class="sc">&gt;=</span> date_from, </span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>         date_of_ping <span class="sc">&lt;=</span> date_to) <span class="sc">%&gt;%</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(ping_locations) <span class="sc">%&gt;%</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Find other vessels sharing any location with the hardcoded vessel within the same date range</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>shared_location_vessels <span class="ot">&lt;-</span> daily_vessel_locations_list <span class="sc">%&gt;%</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date_of_ping <span class="sc">&gt;=</span> date_from, date_of_ping <span class="sc">&lt;=</span> date_to) <span class="sc">%&gt;%</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">map_lgl</span>(ping_locations, <span class="sc">~</span> <span class="fu">any</span>(.x <span class="sc">%in%</span> vessel_data))) <span class="sc">%&gt;%</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(vessel_id)</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter using harbor report for additional confirmation on the exact "to" date</span></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>confirmed_vessels_on_date <span class="ot">&lt;-</span> harbor_report_df <span class="sc">%&gt;%</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">==</span> date_to,</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>         city <span class="sc">==</span> target_location,</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>         vessel_id <span class="sc">%in%</span> shared_location_vessels) <span class="sc">%&gt;%</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(vessel_id)</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the confirmed vessels</span></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>confirmed_vessels_on_date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>character(0)</code></pre>
</div>
</div>
<p><strong>Insight:</strong></p>
<p>There seems to be no trans-shipment possibilities.</p>
</section>
<section id="plot-path-of-southseafood-vessels-around-feb-12" class="level3">
<h3 class="anchored" data-anchor-id="plot-path-of-southseafood-vessels-around-feb-12">5.3 Plot path of SouthSeafood Vessels around Feb 12</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>transponder_ping_selected <span class="ot">&lt;-</span> transponder_ping_df <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"^snappersnatcher7be"</span>, vessel_id)<span class="sc">|</span> <span class="co">#grepl("^stout369", vessel_id)|</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>          <span class="fu">grepl</span>(<span class="st">"^roachrobberdb6"</span>, vessel_id), </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>            date<span class="sc">==</span><span class="st">'2035-02-07'</span> <span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-02-08'</span> <span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-02-09'</span> <span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-02-10'</span><span class="co">#| date=='2035-02-11'| date=='2035-02-12'</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> transponder_ping_selected <span class="sc">%&gt;%</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(vessel_id,time) <span class="sc">%&gt;%</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_time =</span> <span class="fu">lead</span>(time))</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>location_factor <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(data<span class="sc">$</span>location)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>location_num <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>location_factor)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(vessel_id, time) <span class="sc">%&gt;%</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_time =</span> <span class="fu">lead</span>(time),</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">vessel_info =</span> <span class="fu">paste</span>(vessel_id, vessel_type, vessel_company, <span class="at">sep =</span> <span class="st">" - "</span>))</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrap long legend text</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>wrap_legend_text <span class="ot">&lt;-</span> <span class="cf">function</span>(text, <span class="at">width =</span> <span class="dv">20</span>) {</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_wrap</span>(text, width)</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply text wrapping to vessel_info</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>vessel_info <span class="ot">&lt;-</span> <span class="fu">sapply</span>(data<span class="sc">$</span>vessel_info, wrap_legend_text)</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the combined plot for all vessels</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> location_num, <span class="at">group =</span> vessel_id)) <span class="sc">+</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Highlight co-occurrences</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(date, location_num) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">1</span>), </span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> location_num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">6</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Original points</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> vessel_info), <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Paths with arrows</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">color =</span> vessel_info, <span class="at">linetype =</span> vessel_info), <span class="at">size =</span> <span class="dv">1</span>, </span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>            <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">type =</span> <span class="st">"closed"</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"cm"</span>))) <span class="sc">+</span></span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(data<span class="sc">$</span>location_num), <span class="at">labels =</span> <span class="fu">unique</span>(data<span class="sc">$</span>location)) <span class="sc">+</span></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Combined Path of Vessel Locations Over Time"</span>,</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Location"</span>,</span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Vessel Info"</span>,</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>       <span class="at">linetype =</span> <span class="st">"Vessel Info"</span>) <span class="sc">+</span></span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.width =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.height =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>), <span class="co"># Control the height of the legend keys</span></span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.spacing.y =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">"cm"</span>)) <span class="sc">+</span> <span class="co"># Increase vertical spacing between legend items</span></span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>), </span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>         <span class="at">linetype =</span> <span class="fu">guide_legend</span>(<span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Insights:</strong></p>
<p>As can be seen from the path,roachrobberdb6 has been visiting Wrasse beds on consecutive days and then made a trip to Himark on Feb 10.</p>
<p>Highly correlating with the huge qty cargo transaction that happened on Feb 12. transactions around Feb 6.</p>
<p>Now lets investigate transactions around Feb8.</p>
</section>
<section id="finding-transshipment-possibilities-around-feb-8" class="level3">
<h3 class="anchored" data-anchor-id="finding-transshipment-possibilities-around-feb-8"><strong>5.4 Finding Transshipment Possibilities around Feb 8</strong></h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#logic to zero in on potential transshipment vessels</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Hardcoded parameters</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>hardcoded_vessel_id <span class="ot">&lt;-</span> <span class="st">"roachrobberdb6"</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>date_from <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2035-02-01"</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>date_to <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2035-02-05"</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>target_location <span class="ot">&lt;-</span> <span class="st">"City of Himark"</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>daily_vessel_locations_list <span class="ot">&lt;-</span> transponder_ping_day_sum_df <span class="sc">%&gt;%</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date, vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">ping_locations =</span> <span class="fu">list</span>(<span class="fu">unique</span>(location)), <span class="at">.groups =</span> <span class="st">'drop'</span>)<span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">date_of_ping=</span>date)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Gather location data for the specified vessel within the date range</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>vessel_data <span class="ot">&lt;-</span> daily_vessel_locations_list <span class="sc">%&gt;%</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vessel_id <span class="sc">==</span> hardcoded_vessel_id, </span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>         date_of_ping <span class="sc">&gt;=</span> date_from, </span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>         date_of_ping <span class="sc">&lt;=</span> date_to) <span class="sc">%&gt;%</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(ping_locations) <span class="sc">%&gt;%</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Find other vessels sharing any location with the hardcoded vessel within the same date range</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>shared_location_vessels <span class="ot">&lt;-</span> daily_vessel_locations_list <span class="sc">%&gt;%</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date_of_ping <span class="sc">&gt;=</span> date_from, date_of_ping <span class="sc">&lt;=</span> date_to) <span class="sc">%&gt;%</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">map_lgl</span>(ping_locations, <span class="sc">~</span> <span class="fu">any</span>(.x <span class="sc">%in%</span> vessel_data))) <span class="sc">%&gt;%</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(vessel_id)</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter using harbor report for additional confirmation on the exact "to" date</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>confirmed_vessels_on_date <span class="ot">&lt;-</span> harbor_report_df <span class="sc">%&gt;%</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">==</span> date_to,</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>         city <span class="sc">==</span> target_location,</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>         vessel_id <span class="sc">%in%</span> shared_location_vessels) <span class="sc">%&gt;%</span></span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(vessel_id)</span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the confirmed vessels</span></span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>confirmed_vessels_on_date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tigermuskellungemaster012"</code></pre>
</div>
</div>
</section>
<section id="plot-path-of-southseafood-vessels-around-feb-8" class="level3">
<h3 class="anchored" data-anchor-id="plot-path-of-southseafood-vessels-around-feb-8">5.5 Plot path of SouthSeafood Vessels around Feb 8</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>transponder_ping_selected <span class="ot">&lt;-</span> transponder_ping_df <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"^snappersnatcher7be"</span>, vessel_id)<span class="sc">|</span> <span class="fu">grepl</span>(<span class="st">"^roachrobberdb6"</span>, vessel_id) <span class="sc">|</span>  <span class="fu">grepl</span>(<span class="st">"^tigermuskellungemaster012"</span>, vessel_id),  date<span class="sc">==</span><span class="st">'2035-02-01'</span><span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-02-02'</span> <span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-02-03'</span> <span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-02-04'</span> <span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-02-05'</span><span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-02-06'</span><span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-02-07'</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> transponder_ping_selected <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(vessel_id,time) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_time =</span> <span class="fu">lead</span>(time))</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>location_factor <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(data<span class="sc">$</span>location)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>location_num <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>location_factor)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(vessel_id, time) <span class="sc">%&gt;%</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_time =</span> <span class="fu">lead</span>(time),</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">vessel_info =</span> <span class="fu">paste</span>(vessel_id, vessel_type, vessel_company, <span class="at">sep =</span> <span class="st">" - "</span>))</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrap long legend text</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>wrap_legend_text <span class="ot">&lt;-</span> <span class="cf">function</span>(text, <span class="at">width =</span> <span class="dv">20</span>) {</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_wrap</span>(text, width)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply text wrapping to vessel_info</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>vessel_info <span class="ot">&lt;-</span> <span class="fu">sapply</span>(data<span class="sc">$</span>vessel_info, wrap_legend_text)</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the combined plot for all vessels</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> location_num, <span class="at">group =</span> vessel_id)) <span class="sc">+</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Highlight co-occurrences</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(date, location_num) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">1</span>), </span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> location_num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">6</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Original points</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> vessel_info, <span class="at">fill =</span> vessel_info), <span class="at">size =</span> <span class="dv">4</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">show.legend =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Paths with arrows</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">color =</span> vessel_info, <span class="at">linetype =</span> vessel_info), <span class="at">size =</span> <span class="dv">1</span>, </span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">type =</span> <span class="st">"closed"</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"cm"</span>)), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(data<span class="sc">$</span>location_num), <span class="at">labels =</span> <span class="fu">unique</span>(data<span class="sc">$</span>location)) <span class="sc">+</span></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Combined Path of Vessel Locations Over Time"</span>,</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Location"</span>,</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Vessel Info"</span>,</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Vessel Info"</span>,</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>       <span class="at">linetype =</span> <span class="st">"Vessel Info"</span>) <span class="sc">+</span></span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.width =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.height =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>), <span class="co"># Control the height of the legend keys</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.spacing.y =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">"cm"</span>)) <span class="sc">+</span> <span class="co"># Increase vertical spacing between legend items</span></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Insights:</strong></p>
<p>As can be seen from the path,roachrobberdb6 has been visiting Wrasse beds on consecutive days and then had co-occurance with tigermuskellungemaster012 which then proceeded onto Himark on Feb 5 and 6.</p>
<p>Highly correlating with the huge qty cargo transaction that happened on Feb 8.</p>
</section>
</section>
<section id="looking-for-similar-patterns-as-southseafood-express-corp" class="level2">
<h2 class="anchored" data-anchor-id="looking-for-similar-patterns-as-southseafood-express-corp">6. Looking for similar patterns as SouthSeafood Express Corp</h2>
<p>Now Lets investigate the arrival of piscisosseusb6d in City of Paackland in November</p>
<p><img src="images/clipboard-2323732308.png" class="img-fluid" width="587"></p>
<section id="top-10-vessels-with-highest-dwell-time-in-ghoti-preserve" class="level3">
<h3 class="anchored" data-anchor-id="top-10-vessels-with-highest-dwell-time-in-ghoti-preserve">6.1 Top 10 vessels with highest Dwell time in Ghoti Preserve</h3>
<p>Looking for dwell time in Ghoti Preserve, as piscisosseusb6d is only found in Ghoti Preserve and hence is a protected species.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify hardcoded city and month</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>hardcoded_city <span class="ot">&lt;-</span> <span class="st">"Ghoti Preserve"</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>selected_month <span class="ot">&lt;-</span> <span class="st">"Nov"</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract year and month</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>transponder_ping_day_sum_df<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">year</span>(transponder_ping_day_sum_df<span class="sc">$</span>date)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>transponder_ping_day_sum_df<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">month</span>(transponder_ping_day_sum_df<span class="sc">$</span>date, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize total dwell time for each vessel in each city and month</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>monthly_summary_df <span class="ot">&lt;-</span> transponder_ping_day_sum_df <span class="sc">%&gt;%</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, month, location, vessel_id, vessel_type,vessel_company) <span class="sc">%&gt;%</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_dwell_time =</span> <span class="fu">sum</span>(total_dwell_time), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(location, month)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to keep only top 5 vessels by dwell time for each city and month</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>top_vessels_df <span class="ot">&lt;-</span> monthly_summary_df <span class="sc">%&gt;%</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, month, location) <span class="sc">%&gt;%</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> total_dwell_time, <span class="at">n =</span> <span class="dv">10</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>)</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for the hardcoded city and selected month</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> top_vessels_df <span class="sc">%&gt;%</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(location <span class="sc">==</span> hardcoded_city, month <span class="sc">==</span> selected_month) <span class="sc">%&gt;%</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_dwell_time))</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure only top 5 vessels are selected in case of any discrepancy</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> <span class="fu">head</span>(filtered_data, <span class="dv">10</span>)</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Plotly plot</span></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(filtered_data, <span class="at">y =</span> <span class="sc">~</span>vessel_id, <span class="at">x =</span> <span class="sc">~</span>total_dwell_time, <span class="at">type =</span> <span class="st">'bar'</span>, <span class="at">orientation =</span> <span class="st">'h'</span>,</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>                <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"Vessel ID:"</span>, vessel_id, <span class="st">"&lt;br&gt;Vessel Company:"</span>, vessel_company,<span class="st">"&lt;br&gt;vessel_type:"</span>, vessel_type),</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>                <span class="at">hoverinfo =</span> <span class="st">'text'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Top 10 Vessels in"</span>, hardcoded_city, <span class="st">"for"</span>, selected_month),</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Vessel ID"</span>),</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Total Dwell Time (hours)"</span>),</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">barmode =</span> <span class="st">'stack'</span>)</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-01602a63056ef4949cf3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-01602a63056ef4949cf3">{"x":{"visdat":{"cd0c4fd815a":["function () ","plotlyVisDat"]},"cur_data":"cd0c4fd815a","attrs":{"cd0c4fd815a":{"y":{},"x":{},"orientation":"h","text":{},"hoverinfo":"text","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Top 10 Vessels in Ghoti Preserve for Nov","yaxis":{"domain":[0,1],"automargin":true,"title":"Vessel ID","type":"category","categoryorder":"array","categoryarray":["brillbandit0a1","browntroutbandite67","chumsalmoncatcher41e","cohosalmoncapturera7b","malta8cc","seabassbandit9ad","sockeyesalmonseekerb95","swordfishsaboteur22f","tunataker80c","whitesuckerwrangler0b3"]},"xaxis":{"domain":[0,1],"automargin":true,"title":"Total Dwell Time (hours)"},"barmode":"stack","hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":["brillbandit0a1","seabassbandit9ad","tunataker80c","chumsalmoncatcher41e","sockeyesalmonseekerb95","swordfishsaboteur22f","malta8cc","whitesuckerwrangler0b3","cohosalmoncapturera7b","browntroutbandite67"],"x":[735083.21919199999,441713.92602300004,397003.44670000003,380463.150165,324448.684397,316573.21712099999,297164.16714400001,289467.74058500002,285700.01677400002,266885.85672600003],"orientation":"h","text":["Vessel ID: brillbandit0a1 <br>Vessel Company: Mcpherson-Wright <br>vessel_type: FishingVessel","Vessel ID: seabassbandit9ad <br>Vessel Company: Mccormick Group <br>vessel_type: FishingVessel","Vessel ID: tunataker80c <br>Vessel Company: Fischer, Graham and Robinson <br>vessel_type: FishingVessel","Vessel ID: chumsalmoncatcher41e <br>Vessel Company: Mooney, Stevenson and Miller <br>vessel_type: FishingVessel","Vessel ID: sockeyesalmonseekerb95 <br>Vessel Company: Mcpherson-Wright <br>vessel_type: FishingVessel","Vessel ID: swordfishsaboteur22f <br>Vessel Company: Brewer-Massey <br>vessel_type: FishingVessel","Vessel ID: malta8cc <br>Vessel Company: Clark, Hall and Cole <br>vessel_type: FishingVessel","Vessel ID: whitesuckerwrangler0b3 <br>Vessel Company: Robinson, Mcmillan and Watson <br>vessel_type: FishingVessel","Vessel ID: cohosalmoncapturera7b <br>Vessel Company: Faulkner, Shaffer and Moyer <br>vessel_type: FishingVessel","Vessel ID: browntroutbandite67 <br>Vessel Company: Ballard-Bailey <br>vessel_type: FishingVessel"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text"],"type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Insights:</strong></p>
<ol type="1">
<li>brillbandit0a1,tunataker80c seems to be spending considerable amount of time in Ghoti preserve and is a suspect</li>
</ol>
</section>
<section id="deepdive-into-piscisosseusb6d-transactions-in-city-of-paackland-in-november" class="level3">
<h3 class="anchored" data-anchor-id="deepdive-into-piscisosseusb6d-transactions-in-city-of-paackland-in-november">6.2 Deepdive into piscisosseusb6d transactions in City of Paackland in November</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set hardcoded values</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>hardcoded_city <span class="ot">&lt;-</span> <span class="st">"City of Paackland"</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>hardcoded_fish <span class="ot">&lt;-</span> <span class="st">"piscisosseusb6d"</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>hardcoded_month <span class="ot">&lt;-</span> <span class="st">"2035-11-01"</span>  <span class="co"># Use the format YYYY-MM to match with floor_date</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for the specific city, fish, and month</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> transactions_cargo <span class="sc">%&gt;%</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(city_of_arrival <span class="sc">==</span> hardcoded_city, fish_in_cargo <span class="sc">==</span> hardcoded_fish) <span class="sc">%&gt;%</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">day_of_arrival =</span> <span class="fu">floor_date</span>(date_of_arrival, <span class="st">"day"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(day_of_arrival <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(hardcoded_month) <span class="sc">&amp;</span> day_of_arrival <span class="sc">&lt;</span> <span class="fu">as.Date</span>(hardcoded_month) <span class="sc">%m+%</span> <span class="fu">months</span>(<span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(day_of_arrival) <span class="sc">%&gt;%</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">qty_tons =</span> <span class="fu">sum</span>(qty_tons), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot with ggplot2</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(filtered_data, <span class="fu">aes</span>(<span class="at">x =</span> day_of_arrival, <span class="at">y =</span> qty_tons, <span class="at">fill =</span> hardcoded_fish)) <span class="sc">+</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Daily Fish Arrivals in"</span>, hardcoded_city, <span class="st">"for"</span>, hardcoded_fish),</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Day of Arrival"</span>, <span class="at">y =</span> <span class="st">"Total Quantity in Tons"</span>) <span class="sc">+</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to an interactive plotly plot</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-09a7f650d0a39022a4e6" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-09a7f650d0a39022a4e6">{"x":{"data":[{"orientation":"v","width":[0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519,0.90000000000145519],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[24046,24047,24050,24051,24052,24053,24054,24055,24057,24058,24060,24061,24064,24065,24067,24068,24069,24071,24072,24073,24074],"y":[85.5,60.5,36.75,91.375,53.75,105.5,35.125,37.5,64,132.5,195,31.125,63.5,70.625,140.375,108,21.375,21,113.625,29,174.75],"text":["day_of_arrival: 2035-11-02<br />qty_tons:  85.500<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-03<br />qty_tons:  60.500<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-06<br />qty_tons:  36.750<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-07<br />qty_tons:  91.375<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-08<br />qty_tons:  53.750<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-09<br />qty_tons: 105.500<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-10<br />qty_tons:  35.125<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-11<br />qty_tons:  37.500<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-13<br />qty_tons:  64.000<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-14<br />qty_tons: 132.500<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-16<br />qty_tons: 195.000<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-17<br />qty_tons:  31.125<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-20<br />qty_tons:  63.500<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-21<br />qty_tons:  70.625<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-23<br />qty_tons: 140.375<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-24<br />qty_tons: 108.000<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-25<br />qty_tons:  21.375<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-27<br />qty_tons:  21.000<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-28<br />qty_tons: 113.625<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-29<br />qty_tons:  29.000<br />hardcoded_fish: piscisosseusb6d","day_of_arrival: 2035-11-30<br />qty_tons: 174.750<br />hardcoded_fish: piscisosseusb6d"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"piscisosseusb6d","legendgroup":"piscisosseusb6d","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":47.91190782402667,"l":43.105022831050235},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Daily Fish Arrivals in City of Paackland for piscisosseusb6d","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[24044.105,24075.895],"tickmode":"array","ticktext":["Nov 05","Nov 12","Nov 19","Nov 26"],"tickvals":[24049,24056,24063,24070],"categoryorder":"array","categoryarray":["Nov 05","Nov 12","Nov 19","Nov 26"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Day of Arrival","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-9.75,204.75],"tickmode":"array","ticktext":["0","50","100","150","200"],"tickvals":[0,50,100.00000000000001,150,200],"categoryorder":"array","categoryarray":["0","50","100","150","200"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Total Quantity in Tons","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"hardcoded_fish","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"cd0c18e1583":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"cd0c18e1583","visdat":{"cd0c18e1583":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Insights:</strong></p>
<p>Lets target the high qty transaction of Nov 30</p>
<p>Lets target the suspected vessel with the max dwell time in Ghoti Preserve brillbandit0a1 and tunataker80c</p>
</section>
<section id="finding-transshipment-possibilities-for-brillbandit0a1" class="level3">
<h3 class="anchored" data-anchor-id="finding-transshipment-possibilities-for-brillbandit0a1">6.3 Finding Transshipment Possibilities for brillbandit0a1</h3>
<p>Below logic looks for Transhipment possibilities. So it looks for vessels which have visited the same locations as the suspected vessel in the vicinity of the suspected transaction and also arrived at the suspected port one day before the suspected transaction.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#logic to zero in on potential transshipment vessels</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Hardcoded parameters</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>hardcoded_vessel_id <span class="ot">&lt;-</span> <span class="st">"brillbandit0a1"</span> <span class="co">#""</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>date_from <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2035-11-24"</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>date_to <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2035-11-29"</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>target_location <span class="ot">&lt;-</span> <span class="st">"City of Paackland"</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>daily_vessel_locations_list <span class="ot">&lt;-</span> transponder_ping_day_sum_df <span class="sc">%&gt;%</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date, vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">ping_locations =</span> <span class="fu">list</span>(<span class="fu">unique</span>(location)), <span class="at">.groups =</span> <span class="st">'drop'</span>)<span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">date_of_ping=</span>date)</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Gather location data for the specified vessel within the date range</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>vessel_data <span class="ot">&lt;-</span> daily_vessel_locations_list <span class="sc">%&gt;%</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vessel_id <span class="sc">==</span> hardcoded_vessel_id, </span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>         date_of_ping <span class="sc">&gt;=</span> date_from, </span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>         date_of_ping <span class="sc">&lt;=</span> date_to) <span class="sc">%&gt;%</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(ping_locations) <span class="sc">%&gt;%</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Find other vessels sharing any location with the hardcoded vessel within the same date range</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>shared_location_vessels <span class="ot">&lt;-</span> daily_vessel_locations_list <span class="sc">%&gt;%</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date_of_ping <span class="sc">&gt;=</span> date_from, date_of_ping <span class="sc">&lt;=</span> date_to) <span class="sc">%&gt;%</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">map_lgl</span>(ping_locations, <span class="sc">~</span> <span class="fu">any</span>(.x <span class="sc">%in%</span> vessel_data))) <span class="sc">%&gt;%</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(vessel_id)</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter using harbor report for additional confirmation on the exact "to" date</span></span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>confirmed_vessels_on_date <span class="ot">&lt;-</span> harbor_report_df <span class="sc">%&gt;%</span></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">==</span> date_to,</span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>         city <span class="sc">==</span> target_location,</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>         vessel_id <span class="sc">%in%</span> shared_location_vessels) <span class="sc">%&gt;%</span></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(vessel_id)</span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the confirmed vessels</span></span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a>confirmed_vessels_on_date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "blackdrumbanditc5b" "transglobal266"    </code></pre>
</div>
</div>
</section>
<section id="plotting-the-path-of-suspected-vessels-along-with-blackdrumbanditc5b" class="level3">
<h3 class="anchored" data-anchor-id="plotting-the-path-of-suspected-vessels-along-with-blackdrumbanditc5b">6.4 Plotting the path of suspected vessels along with blackdrumbanditc5b</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>transponder_ping_selected <span class="ot">&lt;-</span> transponder_ping_df <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"^brillbandit0a1"</span>, vessel_id)<span class="sc">|</span> <span class="fu">grepl</span>(<span class="st">"^blackdrumbanditc5b"</span>, vessel_id)<span class="sc">|</span> <span class="fu">grepl</span>(<span class="st">"^transglobal266"</span>, vessel_id) , date<span class="sc">==</span><span class="st">'2035-11-24'</span> <span class="sc">|</span>date<span class="sc">==</span><span class="st">'2035-11-25'</span> <span class="sc">|</span>date<span class="sc">==</span><span class="st">'2035-11-26'</span> <span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-11-27'</span> <span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-11-28'</span> <span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-11-29'</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> transponder_ping_selected <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(vessel_id,time) <span class="sc">%&gt;%</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_time =</span> <span class="fu">lead</span>(time))</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>location_factor <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(data<span class="sc">$</span>location)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>location_num <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>location_factor)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(vessel_id, time) <span class="sc">%&gt;%</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_time =</span> <span class="fu">lead</span>(time),</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">vessel_info =</span> <span class="fu">paste</span>(vessel_id, vessel_type, vessel_company, <span class="at">sep =</span> <span class="st">" - "</span>))</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrap long legend text</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>wrap_legend_text <span class="ot">&lt;-</span> <span class="cf">function</span>(text, <span class="at">width =</span> <span class="dv">20</span>) {</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_wrap</span>(text, width)</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply text wrapping to vessel_info</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>vessel_info <span class="ot">&lt;-</span> <span class="fu">sapply</span>(data<span class="sc">$</span>vessel_info, wrap_legend_text)</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the combined plot for all vessels</span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> location_num, <span class="at">group =</span> vessel_id)) <span class="sc">+</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Highlight co-occurrences</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(date, location_num) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">1</span>), </span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> location_num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">6</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Original points</span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> vessel_info, <span class="at">fill =</span> vessel_info), <span class="at">size =</span> <span class="dv">4</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">show.legend =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Paths with arrows</span></span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">color =</span> vessel_info, <span class="at">linetype =</span> vessel_info), <span class="at">size =</span> <span class="dv">1</span>, </span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">type =</span> <span class="st">"closed"</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"cm"</span>)), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(data<span class="sc">$</span>location_num), <span class="at">labels =</span> <span class="fu">unique</span>(data<span class="sc">$</span>location)) <span class="sc">+</span></span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Combined Path of Vessel Locations Over Time"</span>,</span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Location"</span>,</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Vessel Info"</span>,</span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Vessel Info"</span>,</span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>       <span class="at">linetype =</span> <span class="st">"Vessel Info"</span>) <span class="sc">+</span></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.width =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.height =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>), <span class="co"># Control the height of the legend keys</span></span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.spacing.y =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">"cm"</span>)) <span class="sc">+</span> <span class="co"># Increase vertical spacing between legend items</span></span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Insights:</strong></p>
<p>This looks like a case of transshipment as brillbandit seems to have visited Ghoti Preserve on Nov 24 and then had a co-occurance with blackdrumbanditc5b on Nov28, and blackdrumbanditc5b proceeded with the cargo to City of Paackland on Nov 28 correlating with the high quantity transaction on Nov 30.</p>
</section>
<section id="finding-transshipment-possibilities-for-tunataker80c" class="level3">
<h3 class="anchored" data-anchor-id="finding-transshipment-possibilities-for-tunataker80c">6.5 Finding Transshipment Possibilities for tunataker80c</h3>
<p>Below logic looks for Transhipment possibilities. So it looks for vessels which have visited the same locations as the suspected vessel in the vicinity of the suspected transaction and also arrived at the suspected port one day before the suspected transaction.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#logic to zero in on potential transshipment vessels</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Hardcoded parameters</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>hardcoded_vessel_id <span class="ot">&lt;-</span> <span class="st">"tunataker80c"</span> <span class="co">#""</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>date_from <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2035-11-28"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>date_to <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2035-11-29"</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>target_location <span class="ot">&lt;-</span> <span class="st">"City of Paackland"</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>daily_vessel_locations_list <span class="ot">&lt;-</span> transponder_ping_day_sum_df <span class="sc">%&gt;%</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date, vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">ping_locations =</span> <span class="fu">list</span>(<span class="fu">unique</span>(location)), <span class="at">.groups =</span> <span class="st">'drop'</span>)<span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">date_of_ping=</span>date)</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Gather location data for the specified vessel within the date range</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>vessel_data <span class="ot">&lt;-</span> daily_vessel_locations_list <span class="sc">%&gt;%</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vessel_id <span class="sc">==</span> hardcoded_vessel_id, </span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>         date_of_ping <span class="sc">&gt;=</span> date_from, </span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>         date_of_ping <span class="sc">&lt;=</span> date_to) <span class="sc">%&gt;%</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(ping_locations) <span class="sc">%&gt;%</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>() <span class="sc">%&gt;%</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Find other vessels sharing any location with the hardcoded vessel within the same date range</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>shared_location_vessels <span class="ot">&lt;-</span> daily_vessel_locations_list <span class="sc">%&gt;%</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date_of_ping <span class="sc">&gt;=</span> date_from, date_of_ping <span class="sc">&lt;=</span> date_to) <span class="sc">%&gt;%</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">map_lgl</span>(ping_locations, <span class="sc">~</span> <span class="fu">any</span>(.x <span class="sc">%in%</span> vessel_data))) <span class="sc">%&gt;%</span></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(vessel_id)</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter using harbor report for additional confirmation on the exact "to" date</span></span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>confirmed_vessels_on_date <span class="ot">&lt;-</span> harbor_report_df <span class="sc">%&gt;%</span></span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">==</span> date_to,</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>         city <span class="sc">==</span> target_location,</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>         vessel_id <span class="sc">%in%</span> shared_location_vessels) <span class="sc">%&gt;%</span></span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(vessel_id)</span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the confirmed vessels</span></span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>confirmed_vessels_on_date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "blackdrumbanditc5b" "transglobal266"    </code></pre>
</div>
</div>
</section>
<section id="plotting-the-path-of-suspected-vessels-along-with-tunataker80c" class="level3">
<h3 class="anchored" data-anchor-id="plotting-the-path-of-suspected-vessels-along-with-tunataker80c">6.4 Plotting the path of suspected vessels along with tunataker80c</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>transponder_ping_selected <span class="ot">&lt;-</span> transponder_ping_df <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"^blackdrumbanditc5b"</span>, vessel_id)<span class="sc">|</span> <span class="fu">grepl</span>(<span class="st">"^tunataker80c"</span>, vessel_id) , date<span class="sc">==</span><span class="st">'2035-11-28'</span> <span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-11-29'</span><span class="sc">|</span> date<span class="sc">==</span><span class="st">'2035-11-30'</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> transponder_ping_selected <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(vessel_id,time) <span class="sc">%&gt;%</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_time =</span> <span class="fu">lead</span>(time))</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>location_factor <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(data<span class="sc">$</span>location)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>location_num <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>location_factor)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(vessel_id, time) <span class="sc">%&gt;%</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">end_time =</span> <span class="fu">lead</span>(time),</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">vessel_info =</span> <span class="fu">paste</span>(vessel_id, vessel_type, vessel_company, <span class="at">sep =</span> <span class="st">" - "</span>))</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrap long legend text</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>wrap_legend_text <span class="ot">&lt;-</span> <span class="cf">function</span>(text, <span class="at">width =</span> <span class="dv">20</span>) {</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_wrap</span>(text, width)</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply text wrapping to vessel_info</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>vessel_info <span class="ot">&lt;-</span> <span class="fu">sapply</span>(data<span class="sc">$</span>vessel_info, wrap_legend_text)</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the combined plot for all vessels</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> location_num, <span class="at">group =</span> vessel_id)) <span class="sc">+</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Highlight co-occurrences</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(date, location_num) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">1</span>), </span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> location_num), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">6</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Original points</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> vessel_info, <span class="at">fill =</span> vessel_info), <span class="at">size =</span> <span class="dv">4</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">show.legend =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Paths with arrows</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">color =</span> vessel_info, <span class="at">linetype =</span> vessel_info), <span class="at">size =</span> <span class="dv">1</span>, </span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">type =</span> <span class="st">"closed"</span>, <span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"cm"</span>)), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(data<span class="sc">$</span>location_num), <span class="at">labels =</span> <span class="fu">unique</span>(data<span class="sc">$</span>location)) <span class="sc">+</span></span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Combined Path of Vessel Locations Over Time"</span>,</span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Location"</span>,</span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Vessel Info"</span>,</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Vessel Info"</span>,</span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a>       <span class="at">linetype =</span> <span class="st">"Vessel Info"</span>) <span class="sc">+</span></span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.width =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>),</span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.key.height =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>), <span class="co"># Control the height of the legend keys</span></span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.spacing.y =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">"cm"</span>)) <span class="sc">+</span> <span class="co"># Increase vertical spacing between legend items</span></span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Insights:</strong></p>
<p>This looks like a case of transshipment as tunataker80c seems to have visited Ghoti Preserve on Nov 28 and then had a co-occurance with blackdrumbanditc5b on Nov28 and nov 29, and blackdrumbanditc5b proceeded with the cargo to City of Paackland on Nov29 correlating with high quantity transactions on Nov 30.</p>
</section>
<section id="network-analysis-for-southseafood-express-corp" class="level3">
<h3 class="anchored" data-anchor-id="network-analysis-for-southseafood-express-corp">7. Network analysis for SouthSeafood Express Corp</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataframe for a specific company </span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>transponder_ping_filtered_df <span class="ot">&lt;-</span> transponder_ping_day_sum_df <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vessel_company <span class="sc">==</span> <span class="st">"SouthSeafood Express Corp"</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create edge list for the graph</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Here, 'from' represents the vessel, and 'to' represents the city (location)</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>edges_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">from =</span> transponder_ping_filtered_df<span class="sc">$</span>vessel_id,</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">to =</span> transponder_ping_filtered_df<span class="sc">$</span>location,</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">weight =</span> transponder_ping_filtered_df<span class="sc">$</span>total_dwell_time <span class="co"># Use dwell time as weight for edge thickness</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the graph object</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>graph <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(edges_df, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Define node types</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(graph)<span class="sc">$</span>type <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">V</span>(graph)<span class="sc">$</span>name <span class="sc">%in%</span> transponder_ping_filtered_df<span class="sc">$</span>vessel_id, <span class="st">"vessel"</span>, <span class="st">"location"</span>)</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize the network with ggraph</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(graph, <span class="at">layout =</span> <span class="st">'fr'</span>) <span class="sc">+</span>  </span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">edge_width =</span> weight), <span class="at">edge_colour =</span> <span class="st">"grey"</span>) <span class="sc">+</span> <span class="co"># Edge thickness based on dwell time</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> type), <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span>  </span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"vessel"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"location"</span> <span class="ot">=</span> <span class="st">"plum"</span>)) <span class="sc">+</span> </span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span>  </span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Network Visualization of Vessel Movements for SouthSeafood Express Corp"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Central and High-Activity Locations</strong>:</p>
<ul>
<li><p><strong>City of Himark and City of Lomark</strong>: These locations have multiple connections and thicker edges, indicating they are key hubs with significant vessel activity or prolonged stays.</p></li>
<li><p><strong>Wrasse Beds and Ghoti Preserve</strong>: Similarly, these locations are prominent in terms of connections and might represent areas where they are performing illegal fishing</p></li>
<li><p><strong>Locations with Thicker Edges</strong>: Locations like “Exit East” connected by thicker edges suggest that these are areas where vessels tend to stay longer, possibly for transshipment activities.</p></li>
<li><p><strong>Paths and Connections</strong>: The arrangement of nodes and connections shows how vessels move from one location to another, which locations are frequently connected, and how dense the network is in specific regions.</p></li>
</ul>
</section>
<section id="geographical-path-plotting-for-southseafood-express-corp" class="level3">
<h3 class="anchored" data-anchor-id="geographical-path-plotting-for-southseafood-express-corp">8. Geographical path plotting for SouthSeafood Express Corp</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>OceanusGeography <span class="ot">=</span> <span class="fu">st_read</span>(<span class="st">"data/Oceanus Geography.geojson"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="at">crs =</span> <span class="dv">4326</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `Oceanus Geography' from data source 
  `C:\jayageorge7\ISS608-VAA\Take-home_Ex\Take-home_Ex03\data\Oceanus Geography.geojson' 
  using driver `GeoJSON'
Simple feature collection with 29 features and 7 fields
Geometry type: GEOMETRY
Dimension:     XY
Bounding box:  xmin: -167.0654 ymin: 38.07452 xmax: -163.2723 ymax: 40.67775
Geodetic CRS:  WGS 84</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(OceanusGeography, <span class="st">"data/rds/OceanusGeography.rds"</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>OceanusLocations <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="at">dsn =</span> <span class="st">"data/shp"</span>,<span class="at">layer =</span> <span class="st">"Oceanus Geography"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `Oceanus Geography' from data source 
  `C:\jayageorge7\ISS608-VAA\Take-home_Ex\Take-home_Ex03\data\shp' 
  using driver `ESRI Shapefile'
Simple feature collection with 27 features and 7 fields
Geometry type: POINT
Dimension:     XY
Bounding box:  xmin: -167.0654 ymin: 38.07452 xmax: -163.2723 ymax: 40.67775
Geodetic CRS:  WGS 84</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(OceanusLocations, <span class="st">"data/rds/OceanusLocations.rds"</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>vessel_movement_data <span class="ot">&lt;-</span> transponder_ping_df <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(time, dwell, location, vessel_id)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>vessel_movement_data <span class="ot">&lt;-</span> vessel_movement_data<span class="sc">%&gt;%</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">location =</span> <span class="fu">gsub</span>(<span class="st">"^City of"</span>, <span class="st">""</span>, location)) <span class="sc">%&gt;%</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">location =</span> <span class="fu">gsub</span>(<span class="st">"^</span><span class="sc">\\</span><span class="st">s+"</span>, <span class="st">""</span>, location))</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>coords <span class="ot">&lt;-</span> <span class="fu">st_coordinates</span>(OceanusLocations)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>OceanusLocations_df <span class="ot">&lt;-</span> OceanusLocations <span class="sc">%&gt;%</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>()</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>OceanusLocations_df<span class="sc">$</span>XCOORD <span class="ot">&lt;-</span> coords[, <span class="st">"X"</span>]</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>OceanusLocations_df<span class="sc">$</span>YCOORD <span class="ot">&lt;-</span> coords[, <span class="st">"Y"</span>]</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>OceanusLocations_df <span class="ot">&lt;-</span> OceanusLocations_df <span class="sc">%&gt;%</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, X.Kind, XCOORD, YCOORD) <span class="sc">%&gt;%</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Loc_Type =</span> X.Kind)</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>vessel_movement_data <span class="ot">&lt;-</span> vessel_movement_data <span class="sc">%&gt;%</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(OceanusLocations_df,</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"location"</span> <span class="ot">=</span> <span class="st">"Name"</span>))</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(vessel_movement_data, <span class="st">"data/rds/vessel_movement_data.rds"</span>)</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>vessel_movement_sf <span class="ot">&lt;-</span> vessel_movement_data <span class="sc">%&gt;%</span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"XCOORD"</span>, <span class="st">"YCOORD"</span>), </span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>           <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>vessel_movement_sf <span class="ot">&lt;-</span> vessel_movement_sf <span class="sc">%&gt;%</span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(vessel_id, time)</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>vessel_trajectory <span class="ot">&lt;-</span> vessel_movement_sf <span class="sc">%&gt;%</span></span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(vessel_id) <span class="sc">%&gt;%</span></span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_cast</span>(<span class="st">"LINESTRING"</span>)</span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a>vessel_trajectory_selected_snapper <span class="ot">&lt;-</span> vessel_trajectory <span class="sc">%&gt;%</span></span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vessel_id <span class="sc">==</span> <span class="st">"snappersnatcher7be"</span>)</span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb36-42"><a href="#cb36-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> OceanusGeography) <span class="sc">+</span></span>
<span id="cb36-43"><a href="#cb36-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> vessel_trajectory_selected_snapper, </span>
<span id="cb36-44"><a href="#cb36-44" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(vessel_id)), </span>
<span id="cb36-45"><a href="#cb36-45" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb36-46"><a href="#cb36-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> OceanusLocations_df, </span>
<span id="cb36-47"><a href="#cb36-47" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> XCOORD, <span class="at">y =</span> YCOORD, <span class="at">label =</span> Name), </span>
<span id="cb36-48"><a href="#cb36-48" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">3</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb36-49"><a href="#cb36-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb36-50"><a href="#cb36-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trajectories of snappersnatcher7be"</span>, </span>
<span id="cb36-51"><a href="#cb36-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">"Longitude"</span>, <span class="at">y =</span> <span class="st">"Latitude"</span>, <span class="at">color =</span> <span class="st">"ID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>vessel_trajectory_selected_roach <span class="ot">&lt;-</span> vessel_trajectory <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vessel_id <span class="sc">==</span> <span class="st">"roachrobberdb6"</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> OceanusGeography) <span class="sc">+</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> vessel_trajectory_selected_roach, </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">factor</span>(vessel_id)), </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> OceanusLocations_df, </span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> XCOORD, <span class="at">y =</span> YCOORD, <span class="at">label =</span> Name), </span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">3</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trajectories of snappersnatcher7be"</span>, </span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">"Longitude"</span>, <span class="at">y =</span> <span class="st">"Latitude"</span>, <span class="at">color =</span> <span class="st">"ID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li><p>The path plotting show how vessels move from one location to another and which locations are frequently connected</p></li>
<li><p>snappersnatcher seems to use Exit east for transshipment activities</p></li>
<li><p>roachrobberdb6 seems to use Nav A and Nav E for transshipment activities</p></li>
</ul>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<ol type="1">
<li>As per above study,South Sea food seems to have performed illegal fishing at Wrasse beds and seems to also have performed transhipment to evade detection.</li>
<li>We are able to use similar patterns for detecting illegal fishing by other vessels.</li>
<li>Using all mechanism for detection provided above, it will be possible to watch out for anomalies and then plot path to detect illegal fishing.</li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
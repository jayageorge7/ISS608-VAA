{
  "hash": "27bb676fb2a3f5ecc164f353eac919be",
  "result": {
    "markdown": "---\ntitle: \"Take-home Exercise 1\"\nauthor: \"Jaya George\"\ndate: \"April 17,2024\"\ndate-modified: \"last-modified\"\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"pacman\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nres_data <- read_csv(\"data/ResidentialTransaction20240308160536.csv\",show_col_types = FALSE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(res_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 4,722\nColumns: 21\n$ `Project Name`                <chr> \"THE REEF AT KING'S DOCK\", \"URBAN TREASU…\n$ `Transacted Price ($)`        <dbl> 2317000, 1823500, 1421112, 1258112, 1280…\n$ `Area (SQFT)`                 <dbl> 882.65, 882.65, 1076.40, 1033.34, 871.88…\n$ `Unit Price ($ PSF)`          <dbl> 2625, 2066, 1320, 1218, 1468, 1767, 1095…\n$ `Sale Date`                   <chr> \"01 Jan 2023\", \"02 Jan 2023\", \"02 Jan 20…\n$ Address                       <chr> \"12 HARBOURFRONT AVENUE #05-32\", \"205 JA…\n$ `Type of Sale`                <chr> \"New Sale\", \"New Sale\", \"New Sale\", \"New…\n$ `Type of Area`                <chr> \"Strata\", \"Strata\", \"Strata\", \"Strata\", …\n$ `Area (SQM)`                  <dbl> 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 42…\n$ `Unit Price ($ PSM)`          <dbl> 28256, 22238, 14211, 13105, 15802, 19015…\n$ `Nett Price($)`               <chr> \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", …\n$ `Property Type`               <chr> \"Condominium\", \"Condominium\", \"Executive…\n$ `Number of Units`             <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ Tenure                        <chr> \"99 yrs from 12/01/2021\", \"Freehold\", \"9…\n$ `Completion Date`             <chr> \"Uncompleted\", \"Uncompleted\", \"Uncomplet…\n$ `Purchaser Address Indicator` <chr> \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"…\n$ `Postal Code`                 <chr> \"097996\", \"419535\", \"269343\", \"269294\", …\n$ `Postal District`             <chr> \"04\", \"14\", \"27\", \"27\", \"28\", \"19\", \"10\"…\n$ `Postal Sector`               <chr> \"09\", \"41\", \"26\", \"26\", \"79\", \"54\", \"27\"…\n$ `Planning Region`             <chr> \"Central Region\", \"East Region\", \"North …\n$ `Planning Area`               <chr> \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishu…\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nres_data[duplicated(res_data),]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 0 × 21\n# ℹ 21 variables: Project Name <chr>, Transacted Price ($) <dbl>,\n#   Area (SQFT) <dbl>, Unit Price ($ PSF) <dbl>, Sale Date <chr>,\n#   Address <chr>, Type of Sale <chr>, Type of Area <chr>, Area (SQM) <dbl>,\n#   Unit Price ($ PSM) <dbl>, Nett Price($) <chr>, Property Type <chr>,\n#   Number of Units <dbl>, Tenure <chr>, Completion Date <chr>,\n#   Purchaser Address Indicator <chr>, Postal Code <chr>,\n#   Postal District <chr>, Postal Sector <chr>, Planning Region <chr>, …\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nres_data_final = res_data %>% \n  select(\"Property Type\", \"Area (SQFT)\",\"Unit Price ($ PSF)\",\"Sale Date\",\"Transacted Price ($)\",\"Postal District\",\"Type of Sale\",\"Planning Region\",\"Planning Area\",\"Purchaser Address Indicator\") %>%\n  rename(\"Property_Type\" = \"Property Type\",\n         \"Area_sqft\" = \"Area (SQFT)\",\n         \"Unit_Price_sqft\"=\"Unit Price ($ PSF)\",\n         \"Sale_Date\"=\"Sale Date\",\n         \"Sale_Price\"=\"Transacted Price ($)\",\n         \"Postal_District\"=\"Postal District\",\n         \"Sale_Type\"=\"Type of Sale\",\n         \"Planning_Region\"=\"Planning Region\",\n         \"Planning_Area\"=\"Planning Area\",\n         \"Purchaser_Address_Indicator\"=\"Purchaser Address Indicator\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Pre-calculate the count of transactions in each combination (Planning Region, Property Type)\ntransaction_counts <- res_data_final %>%\n  count(Property_Type,Planning_Region)  \n\n# Create the heatmap with calculated counts\nggplot(transaction_counts, aes(x = Property_Type, y = Planning_Region)) +\n  geom_tile(aes(fill = n), colour = \"white\") +  # Use 'n' (count) for fill intensity\n  scale_color_viridis_c()+\n  labs(\n    x = \"Planning Region\",\n    y = \"Property Type\",\n    title = \"Count of Property Sales by Planning Region and Property Type\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))  # Rotate x-axis labels for readability\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntransaction_counts <- res_data_final %>%\n  count(Property_Type, Sale_Type) \n\nggplot(transaction_counts, aes(x = Property_Type, y = n, fill = Sale_Type)) +\n  geom_bar(stat = \"identity\", position = \"stack\") + \n  labs(\n    title = \"Transaction Count by Property Type and Sale Type (Q1 2024)\",\n    x = \"Property Type\",\n    y = \"Number of Transactions\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) \n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "Take-home_Ex01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}